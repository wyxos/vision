(function(c,r){typeof exports=="object"&&typeof module<"u"?r(exports,require("vue"),require("axios"),require("moment"),require("@oruga-ui/oruga-next")):typeof define=="function"&&define.amd?define(["exports","vue","axios","moment","@oruga-ui/oruga-next"],r):(c=typeof globalThis<"u"?globalThis:c||self,r(c.Vision={},c.Vue,c.axios,c.moment,c.Oruga))})(this,function(c,r,m,k,F){"use strict";var Gr=Object.defineProperty;var Zr=(c,r,m)=>r in c?Gr(c,r,{enumerable:!0,configurable:!0,writable:!0,value:m}):c[r]=m;var u=(c,r,m)=>Zr(c,typeof r!="symbol"?r+"":r,m);const We={class:"wyxos-accordion"},Q={__name:"WyxosAccordion",props:{active:{type:Boolean,required:!1}},setup(s){const e=s,t=r.ref(!1),n=()=>{t.value=!t.value};return r.onMounted(()=>{t.value=e.active}),(o,i)=>(r.openBlock(),r.createElementBlock("div",We,[r.renderSlot(o.$slots,"header",{isOpen:t.value,toggle:n}),t.value?r.renderSlot(o.$slots,"body",{key:0}):r.createCommentVNode("",!0)]))}},qe=Object.freeze(Object.defineProperty({__proto__:null,default:Q},Symbol.toStringTag,{value:"Module"})),Le=["disabled"],Ae={key:0,class:"fas fa-spinner fa-spin"},N={__name:"WyxosAction",props:{loading:{type:Boolean,default:!1}},setup(s){return(e,t)=>(r.openBlock(),r.createElementBlock("button",{disabled:s.loading},[s.loading?(r.openBlock(),r.createElementBlock("i",Ae)):r.renderSlot(e.$slots,"default",{key:1},()=>[t[0]||(t[0]=r.createElementVNode("i",{class:"fas fa-trash"},null,-1))])],8,Le))}},Re=Object.freeze(Object.defineProperty({__proto__:null,default:N},Symbol.toStringTag,{value:"Module"})),Me={key:0},Ie={key:1},De={key:2},X={__name:"WyxosAsync",props:{instance:{type:Object,required:!0}},setup(s){const e=s,{data:t,isLoading:n,isLoaded:o,isError:i}=e.instance;return(a,l)=>r.unref(n)?(r.openBlock(),r.createElementBlock("div",Me,[r.renderSlot(a.$slots,"loading",{},()=>[l[0]||(l[0]=r.createTextVNode(" Loading... "))])])):r.unref(o)?(r.openBlock(),r.createElementBlock("div",Ie,[r.renderSlot(a.$slots,"default",{data:r.unref(t)},()=>[r.createTextVNode(r.toDisplayString(r.unref(t)),1)])])):r.unref(i)?(r.openBlock(),r.createElementBlock("div",De,"Error loading lead.")):r.createCommentVNode("",!0)}},Ue=Object.freeze(Object.defineProperty({__proto__:null,default:X},Symbol.toStringTag,{value:"Module"})),_=r.reactive({default:[]});function O(){return{createBag(s){_[s]||(_[s]=[])},set(s,e="default"){if(!(s.response&&s.response.data&&s.response.data.errors))throw s;_[e]=Object.keys(s.response.data.errors).map(n=>({key:n,message:s.response.data.errors[n][0]}))},has(s,e="default"){return _[e].some(t=>t.key===s)},setOne(s,e,t="default"){const n=_[t];if(!n){_[t]=[{key:s,message:e}];return}const o=n.findIndex(i=>i.key===s);if(o!==-1){n[o].message=e;return}n.push({key:s,message:e})},get(s,e="default"){const t=_[e];if(!t)return{message:"",variant:""};const n=t.find(o=>Array.isArray(s)?s.includes(o.key):o.key===s);return n?{message:n.message,variant:"danger"}:{message:"",variant:""}},clear(s=null,e="default"){if(s){const t=_[e];if(!t){console.warn(`Bag ${e} is not defined.`);return}const n=t.findIndex(o=>o.key===s);n!==-1&&t.splice(n,1);return}_[e]=[]},all(s="default"){return _[s]}}}class b{constructor(e={}){u(this,"method","post");u(this,"submitUrl",null);u(this,"loadUrl",null);u(this,"original",{});u(this,"form",r.reactive({}));u(this,"abortSubmitController",null);u(this,"abortLoadController",null);u(this,"submitState",r.ref(""));u(this,"loadState",r.ref(""));u(this,"errors",O());u(this,"resetAfterSubmitFlag",!1);u(this,"callbacks",{submit:null,load:null,success:null,failure:null,formatter:null});return this.setAttributes(e),new Proxy(this,{get(t,n,o){if(Reflect.has(t,n))return Reflect.get(t,n,o);if(Reflect.has(t.form,n)){const i=n.split(".");if(i.length>1){let a=t.form;for(let l=0;l<i.length;l++)a=a[i[l]];return a??void 0}return Reflect.get(t.form,n)}},set(t,n,o,i){if(Reflect.has(t,n))return Reflect.set(t,n,o,i);if(Reflect.has(t.form,n)){const a=n.split(".");if(a.length>1){let l=t.form;for(let d=0;d<a.length-1;d++)a[d]in l||(l[a[d]]={}),l=l[a[d]];return l[a[a.length-1]]=o,!0}return Reflect.set(t.form,n,o)}return Reflect.set(t,n,o,i)}})}get isDirty(){const e=t=>Array.isArray(t)?t.map(e):t&&typeof t=="object"?Object.keys(t).sort().reduce((n,o)=>(n[o]=e(t[o]),n),{}):t;return JSON.stringify(e(this.original))!==JSON.stringify(e(this.form))}get isSubmitting(){return this.submitState.value==="loading"}get isSubmitted(){return this.submitState.value==="loaded"}get isSubmitFailed(){return this.submitState.value==="failed"}get isLoading(){return this.loadState.value==="loading"}get isLoaded(){return this.loadState.value==="loaded"}get isLoadFailed(){return this.loadState.value==="failed"}static create(e){return new this(e)}isPost(){return this.method="post",this}isPatch(){return this.method="patch",this}isPut(){return this.method="put",this}resetAfterSubmit(e=!0){return this.resetAfterSubmitFlag=e,this}setAttributes(e){return this.original=JSON.parse(JSON.stringify(e)),Object.keys(e).forEach(t=>{this.form[t]=e[t]}),this}submitAt(e){return this.submitUrl=e,this}async submit(){this.submitting(),this.clearErrors();const e={};this.abortSubmitController&&this.abortSubmitController.abort(),this.abortSubmitController=new AbortController,e.signal=this.abortSubmitController.signal,await new Promise(o=>setTimeout(o,1e3));const t=this.callbacks.formatter?this.callbacks.formatter(this.form):this.form,n=this.method;return m[n](this.submitUrl,t,e).then(o=>(this.submitted(),this.resetAfterSubmitFlag&&this.setAttributes(this.original),this.callbacks.success?this.callbacks.success(o.data):o.data)).catch(o=>(this.submitFailed(),this.errors.set(o),this.callbacks.failure?Promise.reject(this.callbacks.failure(o)):Promise.reject(o)))}load(){this.loading();const e={};return this.abortLoadController&&this.abortLoadController.abort(),this.abortLoadController=new AbortController,e.signal=this.abortLoadController.signal,m.get(this.loadUrl,e).then(t=>(this.loaded(),t.data.form&&this.setAttributes(t.data.form),t.data)).catch(t=>(this.loadFailed(),Promise.reject(t)))}submitting(){return this.submitState.value="loading",this}submitted(){return this.submitState.value="loaded",this}submitFailed(){return this.submitState.value="failed",this}loading(){return this.loadState.value="loading",this}loaded(){return this.loadState.value="loaded",this}loadFailed(){return this.loadState.value="failed",this}formatter(e){return this.callbacks.formatter=e,this}loadFrom(e){return this.loadUrl=e,this}getError(e){return this.errors.get(e)}hasError(e){return this.errors.has(e)}clearError(e){this.errors.clear(e)}clearErrors(){this.errors.clear()}getErrors(){return this.errors.all()}onSuccess(e){return this.callbacks.success=e,this}onFail(e){return this.callbacks.failure=e,this}toJson(){return JSON.parse(JSON.stringify(this.form))}reset(){return this.setAttributes(this.original),this}}const g=(s,e)=>{const t=s.__vccOpts||s;for(const[n,o]of e)t[n]=o;return t},ze={name:"WyxosButton",props:{form:{type:b,default:null}}},Ye=["disabled"],Ke={key:0},Je={key:1};function He(s,e,t,n,o,i){return r.openBlock(),r.createElementBlock("button",{disabled:t.form.isSubmitting,type:"submit"},[r.renderSlot(s.$slots,"default",{},()=>[t.form.isSubmitting?r.createCommentVNode("",!0):(r.openBlock(),r.createElementBlock("span",Ke,"Submit")),t.form.isSubmitting?(r.openBlock(),r.createElementBlock("span",Je,"Processing")):r.createCommentVNode("",!0)]),t.form.isSubmitting?r.renderSlot(s.$slots,"icon",{key:0},()=>[e[0]||(e[0]=r.createElementVNode("i",{class:"fas fa-spinner fa-spin"},null,-1))]):r.createCommentVNode("",!0)],8,Ye)}const G=g(ze,[["render",He]]),Qe=Object.freeze(Object.defineProperty({__proto__:null,default:G},Symbol.toStringTag,{value:"Module"})),Xe={name:"WyxosCollection",props:{modelValue:{required:!0,type:Array}},emits:["update:modelValue"],data(){return{items:[]}},mounted(){this.items=this.modelValue},methods:{add(s){this.items.push(s),this.$emit("update:modelValue",this.items)},remove(s){this.items.splice(s,1),this.$emit("update:modelValue",this.items)}}};function Ge(s,e,t,n,o,i){return r.renderSlot(s.$slots,"default",r.normalizeProps(r.guardReactiveProps({add:i.add,remove:i.remove,items:o.items})),()=>[e[0]||(e[0]=r.createElementVNode("ul",null,[r.createElementVNode("li")],-1))])}const Z=g(Xe,[["render",Ge]]),Ze=Object.freeze(Object.defineProperty({__proto__:null,default:Z},Symbol.toStringTag,{value:"Module"}));class V{constructor(){u(this,"state",r.reactive({isLoading:!1,isLoaded:!1,isFailure:!1}))}get isLoading(){return this.state.isLoading}get isLoaded(){return this.state.isLoaded}get isFailure(){return this.state.isFailure}isState(e){return this.state[e]}loading(){Object.assign(this.state,{isLoading:!0,isLoaded:!1,isFailure:!1})}loaded(){Object.assign(this.state,{isLoading:!1,isLoaded:!0,isFailure:!1})}failed(){Object.assign(this.state,{isLoading:!1,isLoaded:!1,isFailure:!0})}reset(){Object.assign(this.state,{isLoading:!1,isLoaded:!1,isFailure:!1})}static create(){return new V}}const ve={name:"WyxosConfirm",props:{title:{type:String,default:"Title"},message:{type:String,default:""},confirmText:{type:String,default:""},confirmType:{type:String,default:""},cancelText:{type:String,default:""},loading:{type:Boolean},callback:{type:Function,default:null}},emits:["close"],setup(){return{state:new V}},methods:{async proceed(){this.callback&&(this.state.loading(),await this.callback().catch(s=>{throw this.state.failed(),s}),this.state.loaded()),this.$emit("close",{action:!0})}}},et={class:"bg-white p-6"},tt={class:"title"},rt={class:"mb-6"},st={class:"buttons",role:"group"};function nt(s,e,t,n,o,i){const a=r.resolveComponent("wyxos-button"),l=r.resolveComponent("o-modal");return r.openBlock(),r.createBlock(l,{active:!0,onClose:e[2]||(e[2]=d=>s.$emit("close",{action:!1}))},{default:r.withCtx(()=>[r.createElementVNode("section",et,[r.createElementVNode("article",null,[r.createElementVNode("header",null,[r.createElementVNode("h3",tt,r.toDisplayString(t.title),1)]),r.createElementVNode("p",rt,r.toDisplayString(t.message),1),r.createElementVNode("footer",st,[r.createVNode(a,{disabled:n.state.isLoading,class:"button secondary","native-type":"button",onClick:e[0]||(e[0]=d=>s.$emit("close",{action:!1}))},{default:r.withCtx(()=>[r.createTextVNode(r.toDisplayString(t.cancelText),1)]),_:1},8,["disabled"]),r.createVNode(a,{class:r.normalizeClass([{[t.confirmType]:!0},"button"]),loading:n.state.isLoading,"native-type":"button",onClick:e[1]||(e[1]=d=>i.proceed())},{default:r.withCtx(()=>[r.createTextVNode(r.toDisplayString(t.confirmText),1)]),_:1},8,["class","loading"])])])])]),_:1})}const v=g(ve,[["render",nt]]),ot=Object.freeze(Object.defineProperty({__proto__:null,default:v},Symbol.toStringTag,{value:"Module"})),it={name:"WyxosDatepicker",props:{modelValue:{required:!0,type:[null,String]},displayFormat:{type:String,default(){return"DD/MM/YYYY"}},submitFormat:{type:String,default(){return"YYYY-MM-DD"}},label:{type:String,default(){return null}},name:{type:String,default(){return null}},form:{type:b,default(){return null}},options:{type:Object,default(){return{}}}},emits:["update:modelValue"],data(){return{query:null}},computed:{mergedOptions(){return{enableTimePicker:!1,autoApply:!0,...this.options}}},watch:{modelValue:{handler(s){this.query=s?k(s,this.submitFormat)._d:null},immediate:!0,deep:!0}},mounted(){this.modelValue&&(this.query=k(this.modelValue,this.submitFormat)._d)},methods:{dateFormatter(s){return s?k(s).format(this.displayFormat):null},updateQuery(){var s;this.$emit("update:modelValue",this.query?k(this.query).format(this.submitFormat):null),(s=this.form)==null||s.clearError(this.name)}}};function at(s,e,t,n,o,i){var d;const a=r.resolveComponent("o-datepicker"),l=r.resolveComponent("o-field");return r.openBlock(),r.createBlock(l,r.mergeProps({label:t.label},(d=t.form)==null?void 0:d.getError(t.name)),{default:r.withCtx(()=>[r.createVNode(a,r.mergeProps({modelValue:o.query,"onUpdate:modelValue":e[0]||(e[0]=f=>o.query=f),formatter:i.dateFormatter,"trap-focus":""},t.options,{"onUpdate:modelValue":i.updateQuery}),null,16,["modelValue","formatter","onUpdate:modelValue"])]),_:1},16,["label"])}const ee=g(it,[["render",at]]),lt=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"}));class P{constructor(e){u(this,"url","");u(this,"processing",r.ref(null));u(this,"onBeforeCallback",null);u(this,"onSuccessCallback",null);u(this,"error",null);this.url=e}static create(e){return new this(e)}async get(e){var n,o;const t=this.keyResolver?this.keyResolver(e):null;if(this.processing.value=t||!0,this.onBeforeCallback&&this.onBeforeCallback(e)===!1){this.processing.value=null;return}try{const i=typeof this.url=="function"?this.url(e):this.url;return m.get(i,{params:e}).then(a=>(this.processing.value=!1,this.onSuccessCallback&&this.onSuccessCallback(a),a))}catch(i){return this.error=((o=(n=i.response)==null?void 0:n.data)==null?void 0:o.message)||i.message,this.processing.value=!1,this.onFailCallback?this.onFailCallback(i):i}}async patch(e){var n,o;const t=this.keyResolver?this.keyResolver(e):null;if(this.processing.value=t||!0,this.onBeforeCallback&&this.onBeforeCallback(e)===!1){this.processing.value=null;return}try{const i=typeof this.url=="function"?this.url(e):this.url;return this.processing.value=!1,m.patch(i,e).then(a=>(this.processing.value=!1,this.onSuccessCallback&&this.onSuccessCallback(a),a))}catch(i){this.processing.value=!1,this.error=((o=(n=i.response)==null?void 0:n.data)==null?void 0:o.message)||i.message}}async delete(e){var n,o;const t=this.keyResolver?this.keyResolver(e):null;if(this.processing.value=t||!0,this.onBeforeCallback&&this.onBeforeCallback(e)===!1){this.processing.value=!1;return}try{const i=typeof this.url=="function"?this.url(e):this.url;return m.delete(i).then(a=>(this.processing.value=!1,this.onSuccessCallback&&this.onSuccessCallback(a),a))}catch(i){return this.error=((o=(n=i.response)==null?void 0:n.data)==null?void 0:o.message)||i.message,this.processing.value=!1,i}}onBefore(e){return this.onBeforeCallback=e,this}onSuccess(e){return this.onSuccessCallback=e,this}onFail(e){return this.onFailCallback=e,this}isProcessing(e){return this.processing.value===e}withKey(e){return this.keyResolver=e,this}}const te={__name:"WyxosDeleteButton",props:{action:{type:P,required:!0},id:{type:[String,Number],required:!0}},emits:["done"],setup(s,{emit:e}){const t=e;return(n,o)=>(r.openBlock(),r.createBlock(N,{loading:s.action.isProcessing(s.id),onClick:o[0]||(o[0]=i=>s.action.delete({id:s.id}).then(a=>t("done",a)))},null,8,["loading"]))}},ct=Object.freeze(Object.defineProperty({__proto__:null,default:te},Symbol.toStringTag,{value:"Module"})),dt=r.defineComponent({name:"WyxosError",props:{form:{type:b,default:null},name:{type:String,required:!0}},setup(){return{errors:O()}}}),ut={key:0,class:"wyxos-error"},ft={key:1,class:"wyxos-error"};function mt(s,e,t,n,o,i){var a,l;return(a=s.form)!=null&&a.getError(s.name).message?(r.openBlock(),r.createElementBlock("span",ut,r.toDisplayString(s.form.getError(s.name).message),1)):(l=s.errors.get(s.name))!=null&&l.message?(r.openBlock(),r.createElementBlock("span",ft,r.toDisplayString(s.errors.get(s.name).message),1)):r.createCommentVNode("",!0)}const re=g(dt,[["render",mt]]),ht=Object.freeze(Object.defineProperty({__proto__:null,default:re},Symbol.toStringTag,{value:"Module"}));class T{constructor(e){u(this,"visibility",r.ref(!1));u(this,"applied",[]);e={page:1,...e},this.original=e,this.query=r.reactive({...e})}get isVisible(){return this.visibility.value}get isDirty(){return JSON.stringify(this.query)!==JSON.stringify(this.original)}show(){this.visibility.value=!0}hide(){this.visibility.value=!1}toggle(){this.visibility.value=!this.visibility.value}render(){return this.applied}reset(){this.query=r.reactive({...this.original})}clear(e,t){e?this.query[e]=this.original[e]:this.query=r.reactive({...this.original}),t&&t()}getAppliedQuery(){const e={};return this.applied.forEach(t=>{e[t.key]=t.rawValue}),e}isDefault(e){return this.original[e]===this.query[e]}}const se="%[a-f0-9]{2}",ne=new RegExp("("+se+")|([^%]+?)","gi"),oe=new RegExp("("+se+")+","gi");function W(s,e){try{return[decodeURIComponent(s.join(""))]}catch{}if(s.length===1)return s;e=e||1;const t=s.slice(0,e),n=s.slice(e);return Array.prototype.concat.call([],W(t),W(n))}function gt(s){try{return decodeURIComponent(s)}catch{let e=s.match(ne)||[];for(let t=1;t<e.length;t++)s=W(e,t).join(""),e=s.match(ne)||[];return s}}function pt(s){const e={"%FE%FF":"��","%FF%FE":"��"};let t=oe.exec(s);for(;t;){try{e[t[0]]=decodeURIComponent(t[0])}catch{const o=gt(t[0]);o!==t[0]&&(e[t[0]]=o)}t=oe.exec(s)}e["%C2"]="�";const n=Object.keys(e);for(const o of n)s=s.replace(new RegExp(o,"g"),e[o]);return s}function yt(s){if(typeof s!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof s+"`");try{return decodeURIComponent(s)}catch{return pt(s)}}function ie(s,e){if(!(typeof s=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(s===""||e==="")return[];const t=s.indexOf(e);return t===-1?[]:[s.slice(0,t),s.slice(t+e.length)]}function bt(s,e){const t={};if(Array.isArray(e))for(const n of e){const o=Object.getOwnPropertyDescriptor(s,n);o!=null&&o.enumerable&&Object.defineProperty(t,n,o)}else for(const n of Reflect.ownKeys(s)){const o=Object.getOwnPropertyDescriptor(s,n);if(o.enumerable){const i=s[n];e(n,i,s)&&Object.defineProperty(t,n,o)}}return t}const _t=s=>s==null,St=s=>encodeURIComponent(s).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),q=Symbol("encodeFragmentIdentifier");function Ct(s){switch(s.arrayFormat){case"index":return e=>(t,n)=>{const o=t.length;return n===void 0||s.skipNull&&n===null||s.skipEmptyString&&n===""?t:n===null?[...t,[h(e,s),"[",o,"]"].join("")]:[...t,[h(e,s),"[",h(o,s),"]=",h(n,s)].join("")]};case"bracket":return e=>(t,n)=>n===void 0||s.skipNull&&n===null||s.skipEmptyString&&n===""?t:n===null?[...t,[h(e,s),"[]"].join("")]:[...t,[h(e,s),"[]=",h(n,s)].join("")];case"colon-list-separator":return e=>(t,n)=>n===void 0||s.skipNull&&n===null||s.skipEmptyString&&n===""?t:n===null?[...t,[h(e,s),":list="].join("")]:[...t,[h(e,s),":list=",h(n,s)].join("")];case"comma":case"separator":case"bracket-separator":{const e=s.arrayFormat==="bracket-separator"?"[]=":"=";return t=>(n,o)=>o===void 0||s.skipNull&&o===null||s.skipEmptyString&&o===""?n:(o=o===null?"":o,n.length===0?[[h(t,s),e,h(o,s)].join("")]:[[n,h(o,s)].join(s.arrayFormatSeparator)])}default:return e=>(t,n)=>n===void 0||s.skipNull&&n===null||s.skipEmptyString&&n===""?t:n===null?[...t,h(e,s)]:[...t,[h(e,s),"=",h(n,s)].join("")]}}function wt(s){let e;switch(s.arrayFormat){case"index":return(t,n,o)=>{if(e=/\[(\d*)]$/.exec(t),t=t.replace(/\[\d*]$/,""),!e){o[t]=n;return}o[t]===void 0&&(o[t]={}),o[t][e[1]]=n};case"bracket":return(t,n,o)=>{if(e=/(\[])$/.exec(t),t=t.replace(/\[]$/,""),!e){o[t]=n;return}if(o[t]===void 0){o[t]=[n];return}o[t]=[...o[t],n]};case"colon-list-separator":return(t,n,o)=>{if(e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),!e){o[t]=n;return}if(o[t]===void 0){o[t]=[n];return}o[t]=[...o[t],n]};case"comma":case"separator":return(t,n,o)=>{const i=typeof n=="string"&&n.includes(s.arrayFormatSeparator),a=typeof n=="string"&&!i&&S(n,s).includes(s.arrayFormatSeparator);n=a?S(n,s):n;const l=i||a?n.split(s.arrayFormatSeparator).map(d=>S(d,s)):n===null?n:S(n,s);o[t]=l};case"bracket-separator":return(t,n,o)=>{const i=/(\[])$/.test(t);if(t=t.replace(/\[]$/,""),!i){o[t]=n&&S(n,s);return}const a=n===null?[]:n.split(s.arrayFormatSeparator).map(l=>S(l,s));if(o[t]===void 0){o[t]=a;return}o[t]=[...o[t],...a]};default:return(t,n,o)=>{if(o[t]===void 0){o[t]=n;return}o[t]=[...[o[t]].flat(),n]}}}function ae(s){if(typeof s!="string"||s.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function h(s,e){return e.encode?e.strict?St(s):encodeURIComponent(s):s}function S(s,e){return e.decode?yt(s):s}function le(s){return Array.isArray(s)?s.sort():typeof s=="object"?le(Object.keys(s)).sort((e,t)=>Number(e)-Number(t)).map(e=>s[e]):s}function ce(s){const e=s.indexOf("#");return e!==-1&&(s=s.slice(0,e)),s}function kt(s){let e="";const t=s.indexOf("#");return t!==-1&&(e=s.slice(t)),e}function de(s,e){return e.parseNumbers&&!Number.isNaN(Number(s))&&typeof s=="string"&&s.trim()!==""?s=Number(s):e.parseBooleans&&s!==null&&(s.toLowerCase()==="true"||s.toLowerCase()==="false")&&(s=s.toLowerCase()==="true"),s}function L(s){s=ce(s);const e=s.indexOf("?");return e===-1?"":s.slice(e+1)}function A(s,e){e={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...e},ae(e.arrayFormatSeparator);const t=wt(e),n=Object.create(null);if(typeof s!="string"||(s=s.trim().replace(/^[?#&]/,""),!s))return n;for(const o of s.split("&")){if(o==="")continue;const i=e.decode?o.replace(/\+/g," "):o;let[a,l]=ie(i,"=");a===void 0&&(a=i),l=l===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?l:S(l,e),t(S(a,e),l,n)}for(const[o,i]of Object.entries(n))if(typeof i=="object"&&i!==null)for(const[a,l]of Object.entries(i))i[a]=de(l,e);else n[o]=de(i,e);return e.sort===!1?n:(e.sort===!0?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce((o,i)=>{const a=n[i];return o[i]=a&&typeof a=="object"&&!Array.isArray(a)?le(a):a,o},Object.create(null))}function ue(s,e){if(!s)return"";e={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...e},ae(e.arrayFormatSeparator);const t=a=>e.skipNull&&_t(s[a])||e.skipEmptyString&&s[a]==="",n=Ct(e),o={};for(const[a,l]of Object.entries(s))t(a)||(o[a]=l);const i=Object.keys(o);return e.sort!==!1&&i.sort(e.sort),i.map(a=>{const l=s[a];return l===void 0?"":l===null?h(a,e):Array.isArray(l)?l.length===0&&e.arrayFormat==="bracket-separator"?h(a,e)+"[]":l.reduce(n(a),[]).join("&"):h(a,e)+"="+h(l,e)}).filter(a=>a.length>0).join("&")}function fe(s,e){var o;e={decode:!0,...e};let[t,n]=ie(s,"#");return t===void 0&&(t=s),{url:((o=t==null?void 0:t.split("?"))==null?void 0:o[0])??"",query:A(L(s),e),...e&&e.parseFragmentIdentifier&&n?{fragmentIdentifier:S(n,e)}:{}}}function me(s,e){e={encode:!0,strict:!0,[q]:!0,...e};const t=ce(s.url).split("?")[0]||"",n=L(s.url),o={...A(n,{sort:!1}),...s.query};let i=ue(o,e);i&&(i=`?${i}`);let a=kt(s.url);if(s.fragmentIdentifier){const l=new URL(t);l.hash=s.fragmentIdentifier,a=e[q]?l.hash:`#${s.fragmentIdentifier}`}return`${t}${i}${a}`}function he(s,e,t){t={parseFragmentIdentifier:!0,[q]:!1,...t};const{url:n,query:o,fragmentIdentifier:i}=fe(s,t);return me({url:n,query:bt(o,e),fragmentIdentifier:i},t)}function Vt(s,e,t){const n=Array.isArray(e)?o=>!e.includes(o):(o,i)=>!e(o,i);return he(s,n,t)}const ge=Object.freeze(Object.defineProperty({__proto__:null,exclude:Vt,extract:L,parse:A,parseUrl:fe,pick:he,stringify:ue,stringifyUrl:me},Symbol.toStringTag,{value:"Module"}));class x{constructor(e){u(this,"loadUrl","");u(this,"loadingState",r.ref(null));u(this,"router",null);u(this,"attributes",r.reactive({items:[],showing:0,perPage:0,total:0}));return this.filter=new T(e),new Proxy(this,{get(t,n,o){if(Reflect.has(t,n))return Reflect.get(t,n,o);if(Reflect.has(t.filter.query,n)){const i=n.split(".");if(i.length>1){let a=t.filter.query;for(let l=0;l<i.length;l++)a=a[i[l]];return a??void 0}return Reflect.get(t.filter.query,n)}},set(t,n,o,i){if(Reflect.has(t,n))return Reflect.set(t,n,o,i);if(Reflect.has(t.filter.query,n)){const a=n.split(".");if(a.length>1){let l=t.form;for(let d=0;d<a.length-1;d++)a[d]in l||(l[a[d]]={}),l=l[a[d]];return l[a[a.length-1]]===void 0?!1:(l[a[a.length-1]]=o,!0)}return Reflect.set(t.filter.query,n,o)}return!1}})}get config(){return{data:this.attributes.items,total:this.attributes.total,currentPage:this.filter.query.page,loading:this.isLoading,paginated:this.attributes.total>this.attributes.perPage,backendPagination:!0,striped:!0}}get events(){return{pageChange:e=>this.onPageChange(e)}}get isLoading(){return this.loadingState.value==="loading"}get isLoaded(){return this.loadingState.value==="loaded"}get isDirty(){return this.filter.isDirty}static create(e){return new x(e)}setFilter(e){return this.filter=new T(e),this}search(e={}){return typeof e=="function"?e=Object.assign({},this.filter.query,e(this.filter.query)):e=Object.assign({},this.filter.query,e),this.loading(),m.get(this.loadUrl,{params:e}).then(t=>(t.data.listing&&Object.assign(this.attributes,t.data.listing),t.data.filters&&(this.filter.applied=t.data.filters),this.router&&this.router.push({query:this.filter.query}),t)).finally(()=>{this.loaded()})}load(e={}){const t=ge.parse(window.location.search,{parseNumbers:!0,parseBooleans:!0});return Object.assign(this.filter.query,t),this.filter.query.page=1,typeof e=="function"?e=Object.assign({},this.filter.query,e(this.filter.query)):e=Object.assign({},this.filter.query,e),this.loading(),m.get(this.loadUrl,{params:e}).then(n=>(n.data.listing&&Object.assign(this.attributes,n.data.listing),n.data.filters&&(this.filter.applied=n.data.filters),n)).finally(()=>{this.loaded()})}refresh(e){const t=ge.parse(window.location.search,{parseNumbers:!0,parseBooleans:!0});return Object.assign(this.filter.query,t),typeof e=="function"?e=Object.assign({},this.filter.query,e(this.filter.query)):e=Object.assign({},this.filter.query,e),this.loading(),m.get(this.loadUrl,{params:e}).then(n=>(n.data.listing&&Object.assign(this.attributes,n.data.listing),n.data.filters&&(this.filter.applied=n.data.filters),n)).finally(()=>{this.loaded()})}loading(){this.loadingState.value="loading"}loaded(){this.loadingState.value="loaded"}onPageChange(e){return this.filter.query.page=e,this.search()}loadFrom(e){return this.loadUrl=e,this}reset(){return this.filter.reset(),this.search()}clear(e){return this.filter.clear(e),this.search()}enableRouterSync(e){return this.router=e,this}syncOnRouteChange(e){return r.watch(()=>e.query,()=>{this.refresh()}),this}next(){return this.filter.query.page+=1,this.search()}resetSearch(){return this.filter.reset(),this.filter.applied=[],this.load()}}const Et={name:"WyxosForm",props:{form:{type:b,required:!0},submit:{type:[Function,Promise],default:null},listing:{type:x,default:null},reset:{type:[Boolean,Function],default:!1},formClass:{type:[String,Array,Object],default:null}},emits:["submitted"],methods:{async handle(){if(this.submit?await this.submit(this.form):await this.form.submit(),this.reset&&(typeof this.reset=="function"?this.reset():this.form.reset()),this.$emit("submitted"),this.listing)return this.listing.reload()}}};function xt(s,e,t,n,o,i){const a=r.resolveComponent("o-loading"),l=r.resolveComponent("o-button");return t.form.isLoaded?(r.openBlock(),r.createElementBlock("form",{key:0,class:r.normalizeClass(t.formClass),onSubmit:e[0]||(e[0]=r.withModifiers(d=>i.handle(),["prevent"]))},[r.renderSlot(s.$slots,"default")],34)):t.form.isLoading?(r.openBlock(),r.createBlock(a,{key:1,active:!0})):t.form.isFailure?(r.openBlock(),r.createBlock(l,{key:2,onClick:e[1]||(e[1]=d=>t.form.load())},{default:r.withCtx(()=>e[2]||(e[2]=[r.createTextVNode(" Error. Retry or refresh. ")])),_:1})):r.createCommentVNode("",!0)}const pe=g(Et,[["render",xt]]),Ot=Object.freeze(Object.defineProperty({__proto__:null,default:pe},Symbol.toStringTag,{value:"Module"})),ye={__name:"WyxosIcon",props:{active:{type:Boolean,required:!1},on:{type:String,required:!1,default:"chevron-down"},off:{type:String,required:!1,default:"chevron-right"}},setup(s){return(e,t)=>(r.openBlock(),r.createElementBlock("i",{class:r.normalizeClass([`fa-${s.active?s.on:s.off}`,"fas"])},null,2))}},Bt=Object.freeze(Object.defineProperty({__proto__:null,default:ye},Symbol.toStringTag,{value:"Module"})),$t={name:"WyxosImage",props:{src:{type:[File,String],required:!0},resize:{type:Object,default:null}},emits:["loaded"],data(){return{instance:null,width:0,height:0}},mounted(){this.loadImage()},unmounted(){this.instance.onload=null},methods:{loadImage(){return typeof this.src=="object"?this.loadFile():this.loadPath()},loadFile(){this.instance=new FileReader,this.instance.onload=s=>{const e=s.target.result;this.$refs.image.src=e,this.width=this.resize?this.resize.width:e.width,this.height=this.resize?this.resize.height:e.height,this.$emit("loaded")},this.instance.readAsDataURL(this.src)},loadPath(){this.instance=new Image,this.instance.onload=()=>{this.$refs.image.src=this.src,this.width=this.resize?this.resize.width:this.instance.width,this.height=this.resize?this.resize.height:this.instance.height,this.$emit("loaded")},this.instance.src=this.src}}},Ft=["width","height"];function Nt(s,e,t,n,o,i){return r.openBlock(),r.createElementBlock("img",{ref:"image",src:"",alt:"",width:o.width,height:o.height},null,8,Ft)}const be=g($t,[["render",Nt]]),jt=Object.freeze(Object.defineProperty({__proto__:null,default:be},Symbol.toStringTag,{value:"Module"})),Pt={class:"quick-edit"},Tt={class:"value"},Wt=["readonly","type"],qt=["disabled"],Lt=["disabled"],At={key:0,class:"fas fa-check"},Rt={key:1,class:"fas fa-spinner fa-spin"},_e={__name:"WyxosInlineEdit",props:{modelValue:{type:[String,Number,null],required:!0},update:{type:Function,required:!0},processing:{type:Boolean,default:!1},type:{type:String,default:"text"}},emits:["update:modelValue"],setup(s,{emit:e}){const t=s,n=e,o=r.ref(t.modelValue),i=r.ref(!1),a=()=>{i.value=!1,o.value=t.modelValue},l=()=>t.update(o.value).then(()=>{n("update:modelValue",o.value),i.value=!1});return(d,f)=>(r.openBlock(),r.createElementBlock("div",Pt,[i.value?r.createCommentVNode("",!0):r.renderSlot(d.$slots,"value",{key:0},()=>[r.createElementVNode("span",Tt,r.toDisplayString(s.modelValue),1)]),i.value?r.renderSlot(d.$slots,"field",{key:1,query:o.value},()=>[r.withDirectives(r.createElementVNode("input",{"onUpdate:modelValue":f[0]||(f[0]=C=>o.value=C),readonly:s.processing,type:s.type},null,8,Wt),[[r.vModelDynamic,o.value]])]):r.createCommentVNode("",!0),r.renderSlot(d.$slots,"actions",{enableEdit:i.value,onCancel:a,onUpdate:l},()=>[i.value?r.createCommentVNode("",!0):(r.openBlock(),r.createElementBlock("button",{key:0,class:"edit",onClick:f[1]||(f[1]=C=>i.value=!0)},f[4]||(f[4]=[r.createElementVNode("i",{class:"fas fa-pencil-alt"},null,-1)]))),i.value?(r.openBlock(),r.createElementBlock("button",{key:1,disabled:s.processing,class:"cancel",onClick:f[2]||(f[2]=C=>a())},f[5]||(f[5]=[r.createElementVNode("i",{class:"fas fa-times"},null,-1)]),8,qt)):r.createCommentVNode("",!0),i.value?(r.openBlock(),r.createElementBlock("button",{key:2,disabled:s.processing,class:"save",onClick:f[3]||(f[3]=C=>l())},[s.processing?r.createCommentVNode("",!0):(r.openBlock(),r.createElementBlock("i",At)),s.processing?(r.openBlock(),r.createElementBlock("i",Rt)):r.createCommentVNode("",!0)],8,Lt)):r.createCommentVNode("",!0)])]))}},Mt=Object.freeze(Object.defineProperty({__proto__:null,default:_e},Symbol.toStringTag,{value:"Module"})),It={name:"WyxosInput",props:{label:{type:String,default:""},readonly:{type:Boolean,default:!1},name:{type:String,required:!0},bag:{type:String,default:()=>"default"},type:{type:String,default:"text"},clearable:{type:Boolean,default(){return!1}},fieldClass:{type:String,default(){return null}},inputRootClass:{type:String,default(){return null}},inputClass:{type:String,default(){return null}},modelValue:{type:[String,Number,null],default(){return null}},form:{type:b,default(){return null}},disabled:{type:[Boolean,String],default(){return null}},placeholder:{type:String,default(){return null}},passwordReveal:{type:Boolean,default(){return!1}}},emits:["update:modelValue"],setup(){return{errors:O()}},computed:{getError(){if(this.name)return this.form?this.form.getError(this.name):this.errors.get(this.name,this.bag)}},methods:{onInput(s){this.form?this.form.clearError(this.name):this.errors.clear(this.name,this.bag),this.$emit("update:modelValue",s)}}};function Dt(s,e,t,n,o,i){const a=r.resolveComponent("o-input"),l=r.resolveComponent("o-field");return r.openBlock(),r.createBlock(l,r.mergeProps({class:t.fieldClass,label:t.label},i.getError),{default:r.withCtx(()=>[r.createVNode(a,{class:r.normalizeClass(t.inputClass),clearable:t.clearable,disabled:t.disabled,"model-value":t.modelValue??"",name:t.name,"password-reveal":t.passwordReveal,placeholder:t.placeholder,readonly:t.readonly,"root-class":t.inputRootClass,type:t.type,"onUpdate:modelValue":e[0]||(e[0]=d=>i.onInput(d))},null,8,["class","clearable","disabled","model-value","name","password-reveal","placeholder","readonly","root-class","type"])]),_:1},16,["class","label"])}const Se=g(It,[["render",Dt]]),Ut=Object.freeze(Object.defineProperty({__proto__:null,default:Se},Symbol.toStringTag,{value:"Module"})),zt={name:"WyxosListing",props:{listing:{type:x,required:!0}},computed:{allPropsAndEvents(){return{...this.listing.config,...Object.keys(this.listing.events).reduce((s,e)=>(s[`on${e.charAt(0).toUpperCase()+e.slice(1)}`]=this.listing.events[e],s),{})}}}},Yt={key:0};function Kt(s,e,t,n,o,i){const a=r.resolveComponent("o-table");return r.openBlock(),r.createBlock(a,r.normalizeProps(r.guardReactiveProps(i.allPropsAndEvents)),r.createSlots({empty:r.withCtx(()=>[r.renderSlot(s.$slots,"empty",{},()=>[t.listing.isEmpty?(r.openBlock(),r.createElementBlock("p",Yt,"No records found.")):r.createCommentVNode("",!0)])]),_:2},[r.renderList(s.$slots,(l,d)=>({name:d,fn:r.withCtx(f=>[r.renderSlot(s.$slots,d,r.normalizeProps(r.guardReactiveProps(f)))])}))]),1040)}const Ce=g(zt,[["render",Kt]]),Jt=Object.freeze(Object.defineProperty({__proto__:null,default:Ce},Symbol.toStringTag,{value:"Module"})),Ht={name:"WyxosLiveInput",props:{label:{type:String,default:""},readonly:{type:Boolean,default:!1},name:{type:String,required:!0},bag:{type:String,default:()=>"default"},type:{type:String,default:"text"},clearable:{type:Boolean,default:!1},fieldClass:{type:String,default:null},inputRootClass:{type:String,default:null},inputClass:{type:String,default:null},modelValue:{type:[String,Number,null],default:null},form:{type:b,default:null},disabled:{type:[Boolean,String],default:null},placeholder:{type:String,default:null}},emits:["update:modelValue"],setup(){return{errors:O()}},methods:{onInput(s){if(!this.name){this.$emit("update:modelValue",s);return}if(this.form)return this.form.clearError(this.name),this.form.submit(null,{formatter:()=>({field:this.name,value:s})});this.errors.clear(this.name,this.bag),this.$emit("update:modelValue",s)},getError(){if(this.name)return this.form?this.form.getError(this.name):this.errors.get(this.name)}}};function Qt(s,e,t,n,o,i){const a=r.resolveComponent("o-input"),l=r.resolveComponent("o-field");return r.openBlock(),r.createBlock(l,r.mergeProps({label:t.label,class:t.fieldClass},{...i.getError()}),{default:r.withCtx(()=>[r.createVNode(a,{readonly:t.readonly,class:r.normalizeClass(t.inputClass),"root-class":t.inputRootClass,name:t.name,type:t.type,clearable:t.clearable,disabled:t.disabled,"model-value":t.modelValue,placeholder:t.placeholder,"onUpdate:modelValue":e[0]||(e[0]=d=>i.onInput(d))},null,8,["readonly","class","root-class","name","type","clearable","disabled","model-value","placeholder"])]),_:1},16,["label","class"])}const we=g(Ht,[["render",Qt]]),Xt=Object.freeze(Object.defineProperty({__proto__:null,default:we},Symbol.toStringTag,{value:"Module"})),Gt={name:"WyxosLogout",props:{path:{type:String,default:"/logout"}},methods:{async logout(){const{data:s}=await m.post(this.path).catch(e=>{throw e.response.status===401&&(window.location.href="/"),e});window.location.href=(s==null?void 0:s.redirect)||"/"}}};function Zt(s,e,t,n,o,i){return r.renderSlot(s.$slots,"default",{logout:i.logout},()=>[r.createElementVNode("button",{class:"button is-primary",onClick:e[0]||(e[0]=a=>i.logout())},"Sign out")])}const ke=g(Gt,[["render",Zt]]),vt=Object.freeze(Object.defineProperty({__proto__:null,default:ke},Symbol.toStringTag,{value:"Module"})),er=r.defineComponent({name:"WyxosProgress",props:{showValue:{type:Boolean,default:!0},modelValue:{type:Number,required:!0},max:{type:Number,required:!0},format:{type:String,default:"percent"}}}),tr=["max","value"],rr={key:0};function sr(s,e,t,n,o,i){return r.openBlock(),r.createElementBlock(r.Fragment,null,[r.createElementVNode("progress",{max:s.max,value:s.modelValue},null,8,tr),s.showValue?(r.openBlock(),r.createElementBlock("span",rr,r.toDisplayString(s.modelValue)+" / "+r.toDisplayString(s.max),1)):r.createCommentVNode("",!0)],64)}const Ve=g(er,[["render",sr]]),nr=Object.freeze(Object.defineProperty({__proto__:null,default:Ve},Symbol.toStringTag,{value:"Module"})),or={name:"WyxosPrompt",props:{title:{type:String,default:null},message:{type:String,default:null},confirmText:{type:String,default:null},cancelText:{type:String,default:null},loading:{type:Boolean,default:!1},callback:{type:Function,default:null}},emits:["close"],setup(){return{state:new V}},methods:{async proceed(){this.callback&&(this.state.loading(),await this.callback().catch(s=>{throw this.state.failed(),s}),this.state.loaded()),this.$emit("close",{action:!0})}}},ir={class:"flex gap-6"};function ar(s,e,t,n,o,i){const a=r.resolveComponent("wyxos-button"),l=r.resolveComponent("o-modal");return r.openBlock(),r.createBlock(l,{active:!0,onBlur:e[2]||(e[2]=d=>s.$emit("close",{action:!1}))},{default:r.withCtx(()=>[r.createElementVNode("h2",null,r.toDisplayString(t.title),1),r.createElementVNode("p",null,r.toDisplayString(t.message),1),r.createElementVNode("div",ir,[r.createVNode(a,{disabled:n.state.isLoading,class:"button is-danger","native-type":"button",onClick:e[0]||(e[0]=d=>s.$emit("close",{action:!1}))},{default:r.withCtx(()=>[r.createTextVNode(r.toDisplayString(t.cancelText),1)]),_:1},8,["disabled"]),r.createVNode(a,{loading:n.state.isLoading,class:"button","native-type":"button",onClick:e[1]||(e[1]=d=>i.proceed())},{default:r.withCtx(()=>[r.createTextVNode(r.toDisplayString(t.confirmText),1)]),_:1},8,["loading"])])]),_:1})}const R=g(or,[["render",ar]]),lr=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"})),cr={name:"WyxosRemove",props:{listing:{type:x,default:null},route:{type:String,required:!0}},emits:["removed","failed"],setup(){return{destroy:b.create()}},data(){return{isVisible:!1}},methods:{async onRemove(){this.isVisible=!0},remove(){this.destroy.delete(this.route).then(()=>{this.$emit("removed"),this.listing&&this.listing.reload(),this.isVisible=!1}).catch(()=>{this.$emit("failed")})}}},dr={class:"content p-6"},ur={class:"buttons flex gap-6 justify-end"};function fr(s,e,t,n,o,i){const a=r.resolveComponent("o-button"),l=r.resolveComponent("w-button"),d=r.resolveComponent("o-modal");return r.openBlock(),r.createBlock(l,{class:"button is-danger",onClick:e[3]||(e[3]=f=>i.onRemove())},{default:r.withCtx(()=>[r.renderSlot(s.$slots,"button",{},()=>[e[4]||(e[4]=r.createElementVNode("i",{class:"fas fa-trash"},null,-1))]),o.isVisible?(r.openBlock(),r.createBlock(r.Teleport,{key:0,to:"body"},[r.createVNode(d,{active:o.isVisible,"onUpdate:active":e[2]||(e[2]=f=>o.isVisible=f)},{default:r.withCtx(()=>[r.createElementVNode("div",dr,[r.renderSlot(s.$slots,"title",{},()=>[e[5]||(e[5]=r.createElementVNode("h3",{class:"title"},"Delete",-1))]),r.renderSlot(s.$slots,"message",{},()=>[e[6]||(e[6]=r.createElementVNode("p",{class:"mb-4"}," Are you sure you want to delete this record? ",-1))]),r.createElementVNode("div",ur,[r.createVNode(a,{class:"button is-secondary",onClick:e[0]||(e[0]=f=>o.isVisible=!1)},{default:r.withCtx(()=>e[7]||(e[7]=[r.createTextVNode("Cancel ")])),_:1}),r.createVNode(l,{loading:n.destroy.isSubmitting,class:"button is-danger",onClick:e[1]||(e[1]=f=>i.remove())},{default:r.withCtx(()=>[r.renderSlot(s.$slots,"confirm",{},()=>[e[8]||(e[8]=r.createTextVNode("Confirm"))])]),_:3},8,["loading"])])])]),_:3},8,["active"])])):r.createCommentVNode("",!0)]),_:3})}const Ee=g(cr,[["render",fr]]),mr=Object.freeze(Object.defineProperty({__proto__:null,default:Ee},Symbol.toStringTag,{value:"Module"})),hr={name:"WyxosSelect",props:{label:{type:String,default:null},placeholder:{type:String,default:null},disabled:{type:Boolean,default:null},name:{type:String,default:null},modelValue:{type:[null,String,Number],required:!0},form:{type:b,default:null},items:{type:Array,default:null}},emits:["update:modelValue"],methods:{updateValue(s){var e;(e=this.form)==null||e.clearError(this.name),this.$emit("update:modelValue",s)}}},gr=["value"];function pr(s,e,t,n,o,i){var d;const a=r.resolveComponent("o-select"),l=r.resolveComponent("o-field");return r.openBlock(),r.createBlock(l,r.mergeProps({label:t.label},(d=t.form)==null?void 0:d.getError(t.name)),{default:r.withCtx(()=>[r.createVNode(a,{disabled:t.disabled,"model-value":t.modelValue,name:t.name,placeholder:t.placeholder,"root-class":"w-full","select-class":"w-full","onUpdate:modelValue":e[0]||(e[0]=f=>i.updateValue(f))},{default:r.withCtx(()=>[r.renderSlot(s.$slots,"default",{},()=>[t.items?(r.openBlock(!0),r.createElementBlock(r.Fragment,{key:0},r.renderList(t.items,f=>(r.openBlock(),r.createElementBlock("option",{key:f.value,value:f.value},r.toDisplayString(f.label),9,gr))),128)):r.createCommentVNode("",!0)])]),_:3},8,["disabled","model-value","name","placeholder"])]),_:3},16,["label"])}const xe=g(hr,[["render",pr]]),yr=Object.freeze(Object.defineProperty({__proto__:null,default:xe},Symbol.toStringTag,{value:"Module"})),br={name:"WyxosSessionExpired",emits:["close"],setup(){return{login:b.create({email:null,password:null})}},data(){return{user:null,propertiesCount:0,organisations:[]}},methods:{async proceed(){await this.login.submit("/login"),this.$emit("close",{action:!0})},onLogout(){window.location.href="/"}}},_r={class:"bg-white p-6"},Sr={class:"buttons"};function Cr(s,e,t,n,o,i){const a=r.resolveComponent("wyxos-input"),l=r.resolveComponent("w-button"),d=r.resolveComponent("o-modal");return r.openBlock(),r.createBlock(d,{active:!0},{default:r.withCtx(()=>[r.createElementVNode("div",_r,[e[6]||(e[6]=r.createElementVNode("h2",{class:"title"},"Session Expired",-1)),e[7]||(e[7]=r.createElementVNode("p",{class:"mb-6"}," It looks like you've been away for a bit. For your security, please re-enter your credentials to continue. ",-1)),r.createElementVNode("form",{onSubmit:e[3]||(e[3]=r.withModifiers((...f)=>i.proceed&&i.proceed(...f),["prevent"]))},[r.createVNode(a,{modelValue:n.login.email,"onUpdate:modelValue":e[0]||(e[0]=f=>n.login.email=f),name:"email",label:"Email"},null,8,["modelValue"]),r.createVNode(a,{modelValue:n.login.password,"onUpdate:modelValue":e[1]||(e[1]=f=>n.login.password=f),name:"password",label:"Password",type:"password"},null,8,["modelValue"]),r.createElementVNode("div",Sr,[r.createVNode(l,{class:"button is-danger",disabled:n.login.isSubmitting,onClick:e[2]||(e[2]=f=>i.onLogout())},{default:r.withCtx(()=>e[4]||(e[4]=[r.createTextVNode(" Logout ")])),_:1},8,["disabled"]),r.createVNode(l,{class:"button is-primary","native-type":"submit",loading:n.login.isSubmitting},{default:r.withCtx(()=>e[5]||(e[5]=[r.createTextVNode(" Login ")])),_:1},8,["loading"])])],32)])]),_:1})}const M=g(br,[["render",Cr]]),wr=Object.freeze(Object.defineProperty({__proto__:null,default:M},Symbol.toStringTag,{value:"Module"})),kr={name:"WyxosSubmit",props:{form:{type:b,required:!0},labels:{type:Object,default(){return{submit:"Submit",submitting:"Processing",submitted:"Complete",failed:"Retry"}}}},data(){return{mergedLabels:{submit:"Submit",submitting:"Processing",submitted:"Complete",failed:"Retry"}}},watch:{labels:{deep:!0,handler(s){this.mergedLabels={...this.mergedLabels,...s}}}},created(){this.mergedLabels={...this.mergedLabels,...this.labels}}},Vr={key:0},Er={key:1},xr={key:2},Or={key:3};function Br(s,e,t,n,o,i){const a=r.resolveComponent("o-button");return r.openBlock(),r.createBlock(a,{disabled:!!(t.form.isSubmitting||t.form.isSubmitted),"native-type":"submit"},{default:r.withCtx(()=>[!t.form.isSubmitted&&!t.form.isSubmitting&&!t.form.isSubmitFailed?(r.openBlock(),r.createElementBlock("span",Vr,r.toDisplayString(o.mergedLabels.submit),1)):r.createCommentVNode("",!0),t.form.isSubmitting?(r.openBlock(),r.createElementBlock("span",Er,[r.createTextVNode(r.toDisplayString(o.mergedLabels.submitting)+" ",1),e[0]||(e[0]=r.createElementVNode("i",{class:"fas fa-spinner fa-spin"},null,-1))])):r.createCommentVNode("",!0),t.form.isSubmitted?(r.openBlock(),r.createElementBlock("span",xr,r.toDisplayString(o.mergedLabels.submitted),1)):r.createCommentVNode("",!0),t.form.isSubmitFailed?(r.openBlock(),r.createElementBlock("span",Or,r.toDisplayString(o.mergedLabels.failed),1)):r.createCommentVNode("",!0)]),_:1},8,["disabled"])}const Oe=g(kr,[["render",Br]]),$r=Object.freeze(Object.defineProperty({__proto__:null,default:Oe},Symbol.toStringTag,{value:"Module"})),Be={__name:"WyxosTab",props:{active:{type:String,required:!0},hashKey:{type:String,default:()=>`tab-${Math.random().toString(36).slice(2,11)}`},responsiveResolution:{type:Number,default:768}},emits:["update:active"],setup(s,{emit:e}){const t=s,n=e,o=()=>{const p=window.location.hash.replace("#",""),y=new URLSearchParams(p);return Object.fromEntries(y.entries())},i=(p,y)=>{const J=window.location.hash.replace("#",""),w=new URLSearchParams(J);w.set(p,y),window.location.hash=w.toString()},a=r.ref(o()[t.hashKey]||t.active),l=r.ref(!1),d=p=>l.value?!0:p===a.value,f=()=>{l.value=window.innerWidth<=t.responsiveResolution},C=p=>{a.value=p,n("update:active",p),i(t.hashKey,p)};return r.onMounted(()=>{window.addEventListener("hashchange",()=>{const p=o();p[t.hashKey]&&(a.value=p[t.hashKey])}),f(),window.addEventListener("resize",f)}),r.onUnmounted(()=>{window.removeEventListener("hashchange",()=>{}),window.removeEventListener("resize",f)}),(p,y)=>(r.openBlock(),r.createElementBlock("div",null,[r.renderSlot(p.$slots,"navigation",{isActive:d,setActive:C},()=>[y[0]||(y[0]=r.createTextVNode(" Fill in navigation content here "))]),r.renderSlot(p.$slots,"content",{isActive:d},()=>[y[1]||(y[1]=r.createTextVNode(" Fill in content here"))])]))}},Fr=Object.freeze(Object.defineProperty({__proto__:null,default:Be},Symbol.toStringTag,{value:"Module"}));class j{constructor(e={}){u(this,"state",new V);u(this,"result",r.ref([]));u(this,"value",r.ref(null));u(this,"timeout",null);u(this,"options",{url:null,payload:null,field:null});Object.assign(this.options,e)}get getConfig(){return{data:this.result.value,field:this.options.field,modelValue:this.value.value}}static create(e){return new j(e)}getEvents({searchPayloadFormatter:e=null}={}){return{"update:model-value":t=>(this.value.value=t,this.search(e))}}search(e){const t={value:this.value.value},n=e?e(t):t;return this.customSearch({payload:n})}async customSearch({url:e,payload:t}){this.timeout&&(this.controller.abort(),clearTimeout(this.timeout)),this.controller=new AbortController,this.timeout=setTimeout(async()=>{this.state.loading(),this.reset();const n=e||this.options.url,{data:o}=await m.post(`${n}/search`,t||this.options.payload,{signal:this.controller.signal}).catch(i=>{throw this.state.failed(),i});this.result.value=o.result,this.state.loaded()},500)}async restore(e,t){this.state.loading(),this.reset();const n=e||this.options.url,{data:o}=await m.post(`${n}/restore`,t||this.options.payload).catch(i=>{throw this.state.failed(),i});return this.state.loaded(),o}reset(){this.result.value=[]}}const Nr={name:"WyxosTags",props:{path:{type:String,required:!0},modelValue:{type:Array,required:!0},formatter:{type:Function,required:!0},excludeFormatter:{type:Function,default:null},restoreFormatter:{type:Function,default:s=>s},payloadFormatter:{type:Function,default:s=>s},openOnFocus:{type:Boolean,default:!1}},emits:["update:modelValue","update:query","change"],setup(){return{search:j.create()}},data(){return{query:[],isInternalChange:!1}},watch:{modelValue:{handler:async function(s,e){this.isInternalChange?this.isInternalChange=!1:JSON.stringify(s)!==JSON.stringify(e)&&this.restore()},deep:!0,immediate:!1}},async mounted(){this.restore()},methods:{async restore(){if(this.modelValue&&this.modelValue.length){this.isInternalChange=!0;const{result:s}=await this.search.restore(this.path,this.restoreFormatter({values:this.modelValue}));this.query=s,this.$emit("update:modelValue",this.query.map(e=>this.formatter(e))),this.$emit("update:query",this.query)}},onTagSearch(s){return this.search.customSearch({url:this.path,payload:this.payloadFormatter({value:s,exclude:this.query.map(e=>this.excludeFormatter(e)).filter(Boolean)})})},onTagAdded(){this.isInternalChange=!0;const s=this.query.map(e=>this.formatter(e));this.$emit("update:modelValue",s),this.$emit("update:query",this.query),this.$emit("change")},onTagRemoved(){this.isInternalChange=!0;const s=this.query.map(e=>this.formatter(e));this.$emit("update:modelValue",s),this.$emit("update:query",this.query),this.$emit("change")},reset(){this.isInternalChange=!0,this.query=[],this.$emit("update:modelValue",this.query),this.$emit("update:query",this.query)},addItem(){this.$refs.tagInput.addItem()},focus(){this.openOnFocus&&this.onTagSearch("")}}};function jr(s,e,t,n,o,i){const a=r.resolveComponent("o-taginput");return r.openBlock(),r.createBlock(a,r.mergeProps({ref:"tagInput",modelValue:o.query,"onUpdate:modelValue":e[0]||(e[0]=l=>o.query=l),data:n.search.result.value,"open-on-focus":t.openOnFocus,"allow-autocomplete":""},s.$attrs,{onAdd:e[1]||(e[1]=l=>i.onTagAdded(l)),onFocus:e[2]||(e[2]=l=>i.onTagSearch("")),onRemove:e[3]||(e[3]=l=>i.onTagRemoved(l)),onTyping:e[4]||(e[4]=l=>i.onTagSearch(l))}),null,16,["modelValue","data","open-on-focus"])}const $e=g(Nr,[["render",jr]]),Pr=Object.freeze(Object.defineProperty({__proto__:null,default:$e},Symbol.toStringTag,{value:"Module"})),Tr={name:"WyxosTokenExpired",emits:["close"],methods:{async proceed(){this.$emit("close",{action:!0})}}},Wr={class:"bg-white p-6"},qr={class:"buttons"};function Lr(s,e,t,n,o,i){const a=r.resolveComponent("w-button"),l=r.resolveComponent("o-modal");return r.openBlock(),r.createBlock(l,{active:!0},{default:r.withCtx(()=>[r.createElementVNode("div",Wr,[e[2]||(e[2]=r.createElementVNode("h2",{class:"title"},"Session expired",-1)),e[3]||(e[3]=r.createElementVNode("p",{class:"mb-6"}," Your tab has been idle for a while. We've refreshed your session for you. If you encountered an error after performing an action, please close this prompt and try again. ",-1)),r.createElementVNode("div",qr,[r.createVNode(a,{class:"button is-primary",onClick:e[0]||(e[0]=d=>s.$emit("close",{action:!0}))},{default:r.withCtx(()=>e[1]||(e[1]=[r.createTextVNode(" Confirm ")])),_:1})])])]),_:1})}const I=g(Tr,[["render",Lr]]),Ar=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"})),Fe={__name:"WyxosUpdateButton",props:{action:{type:P,required:!0},id:{type:[String,Number],required:!0},payload:{type:Object,default:()=>({})}},emits:["done"],setup(s,{emit:e}){const t=e;return(n,o)=>(r.openBlock(),r.createBlock(N,{loading:s.action.isProcessing(s.id),onClick:o[0]||(o[0]=i=>s.action.patch({id:s.id,...s.payload}).then(a=>t("done",a)))},{default:r.withCtx(()=>[r.renderSlot(n.$slots,"default",{},()=>[o[1]||(o[1]=r.createElementVNode("i",{class:"fas fa-edit"},null,-1))])]),_:3},8,["loading"]))}},Rr=Object.freeze(Object.defineProperty({__proto__:null,default:Fe},Symbol.toStringTag,{value:"Module"}));class D{constructor(){u(this,"url",null);this.data=r.ref(null),this.isLoaded=r.ref(!1),this.isLoading=r.ref(!1),this.isError=r.ref(!1),this.errorMessage=r.ref(null)}static create(){return new D}async load(e,t){this.loading(),typeof e=="object"&&(t=e,e=null),e=e||this.url;try{const n=await m.get(e,t);return this.data.value=n.data,this.loaded(),n}catch(n){return this.failed(n),Promise.reject(n)}}loaded(){this.isLoaded.value=!0,this.isLoading.value=!1,this.isError.value=!1,this.errorMessage.value=null}loading(){this.isLoading.value=!0,this.isLoaded.value=!1,this.isError.value=!1,this.errorMessage.value=null}failed(e){throw this.isLoading.value=!1,this.isLoaded.value=!1,this.isError.value=!0,this.errorMessage.value=e.message||"An unknown error occurred",e}loadFrom(e){return this.url=e,this}async refresh(e){e=e||this.url;try{const t=await m.get(e);return this.data.value=t.data,t}catch(t){return this.failed(t),Promise.reject(t)}}reload(e){return this.loading(),this.load(e)}}class U{constructor(e){u(this,"exclude",null);u(this,"inProgress",r.ref(!1));u(this,"abortController",null);u(this,"onCompleteCallback",null);u(this,"onSelectCallback",null);u(this,"options",r.ref([]));u(this,"minimumCharacters",0);this.path=e}static create(e){return new U(e)}toExclude(e){return this.exclude=e,this}async search(e){if(e&&this.minimumCharacters&&e.length<this.minimumCharacters){this.options.value=[];return}this.abortController&&this.abortController.abort(),this.inProgress.value=!0,this.abortController=new AbortController;const t={query:e};typeof this.exclude=="function"&&(t.exclude=this.exclude());const n={params:t,signal:this.abortController.signal};return await new Promise(o=>setTimeout(o,500)),m.get(this.path,n).then(o=>(this.onCompleteCallback&&(this.options.value=this.onCompleteCallback(o)),o)).finally(()=>{this.inProgress.value=!1})}onSelected(e){this.onSelectCallback(e)}onSelect(e){return this.onSelectCallback=e,this}setOptions(e){return this.onCompleteCallback=e,this}}const B={UK_TIME:"DD/MM/YYYY HH:mm:ss",UK:"DD/MM/YYYY",DB_TIME:"YYYY-MM-DD HH:mm:ss",DB:"YYYY-MM-DD"};class Ne{constructor(e,t){u(this,"value",null);u(this,"empty","");u(this,"interval",null);this.value=e,this.empty=t}static load(e,t=""){return new this(e,t)}static create(){return new this}format(e,t=B.UK,n=""){return e?k(e).format(t):this.value?k(this.value).format(t):n||this.empty}render(e=B.UK_TIME,t=""){return this.format(this.value,e,t)}date(e=B.UK,t=""){return this.format(this.value,e,t)}time(e=B.UK_TIME,t=""){return this.format(this.value,e,t).split(" ")[1]}ago(){return k(this.value).fromNow()}}u(Ne,"FORMATS",B);class Mr{constructor(e){this.data=new FormData,this.form=e,this.copy=Object.assign({},JSON.parse(JSON.stringify(e)))}static build(e,t){return new this(e).files(t).get()}static callback(e){return t=>this.build(t,e).get()}files(e){return e.forEach(t=>{typeof t=="object"?(this.data.append(t.name,t.value),delete this.copy[t.name]):this.form[t]&&(this.data.append(t,this.form[t]),delete this.copy[t])}),this}add(e,t){return this.data.append(e,t),this}get(){return this.data.append("payload",JSON.stringify(this.copy)),this.data}}class z{constructor(){u(this,"state",r.ref(!1))}get isVisible(){return this.state}static create(){return new z}show(){this.state=!0}hide(){this.state=!1}}class Ir{static create(e,t=null,n=null){return t=t||e,{value:e,label:t}}}class Dr{constructor(){u(this,"structure",{});u(this,"query",r.reactive({items:[],perPage:0,total:0,isLoading:!1,isLoaded:!1,isFilterActive:!1}));u(this,"params",r.reactive({page:1}));u(this,"router",null)}static create(e,t={},n={},o){n=Object.assign({base:"/api/admin",route:`${e}.index`},n);const i=n.base,a={route:n.route,index:n.index||`${i}/${e}/index`,destroy:`${i}/${e}/destroy`},l=new this;return l.options=n,l.structure=t,l.params=Object.assign(l.params,t),l.router=o,l.urls=a,l}async fetch(e){this.query.isLoading=!0,this.query.isLoaded=!1;const{data:t}=await m.get(e||this.urls.index,{params:this.params}).catch(n=>{throw this.query.isLoading=!1,n});return await this.router.push({name:this.urls.route,query:this.params}),this.query.isLoading=!1,this.query.isLoaded=!0,t}async load(e){const t=await this.fetch(e);return Object.assign(this.query,t.query,{items:t.query.items.map(n=>({...n,isProcessing:!1}))}),t}onPageChange(e){return this.params.page=e,this.load()}async action(e,{row:t,index:n,remove:o,method:i},a={}){t.isProcessing=!0;const l={id:t.id,...a};if(i==="delete"){const{data:d}=await m.delete(e,{data:l}).catch(f=>{throw t.isProcessing=!1,f});t.isProcessing=!1,d.row&&Object.assign(t,d.row)}else{const{data:d}=await m.post(e,l).catch(f=>{throw t.isProcessing=!1,f});t.isProcessing=!1,d.row&&Object.assign(t,d.row)}if(o){const d=await this.fetch();if(this.query.items.splice(n,1),!d.query.items.length){this.params.page--,await this.load();return}this.query.items.length<d.query.items.length&&this.query.items.push(d.query.items[d.query.items.length-1])}}destroy(e,t){return this.action(this.urls.destroy,{...e,remove:!0},t)}async resetFilter(e=null){Object.assign(this.params,this.structure),this.query.isFilterActive=!1,await this.load(e)}}class Ur{constructor(e){u(this,"current",r.ref(null));u(this,"history",r.ref([]));u(this,"flow",[]);this.current.value=e}is(e){return this.current.value===e}isAny(...e){return!!e.includes(this.current.value)}setFlow(e){this.flow=e}next(){const e=this.flow.findIndex(n=>n===this.getCurrent()),t=this.flow[e+1];if(t){this.set(t);return}throw Error(`No step defined after ${this.getCurrent()}`)}set(e){this.current.value=e,this.history.value.push(e)}previous(){this.history.value.pop(),this.current.value=this.history.value[this.history.value.length-1]}getCurrent(){return this.current.value}assign(e){Object.assign(this,e)}}class Y{constructor(e){u(this,"attributes",r.reactive({name:null}));u(this,"callbacks",{});this.attributes.name=e}is(e){return this.attributes.name===e}onChange(e){this.callbacks=e}activeClass(e,t){return{class:this.is(e)?t:[]}}set(e){this.attributes.name=e,this.callbacks[e]&&this.callbacks[e]()}assign(e){Object.assign(this,e)}static create(e){return new Y(e)}}class zr{constructor(){u(this,"attributes",r.reactive({user:null}));u(this,"state",new V);return new Proxy(this,{get(e,t,n){return Reflect.has(e,t)?Reflect.get(e,t,n):t in e.attributes?e.attributes[t]:null},set(e,t,n,o){return!Reflect.has(e,t)&&!(t in e.attributes)?(Reflect.set(e,t,n,o),!0):t in e.attributes?(e.attributes[t]=n,!0):Reflect.set(e,t,n,o)}})}get isLoading(){return this.state.isLoading}get isLoaded(){return this.state.isLoaded}get isFailure(){return this.state.isFailure}get isAuthenticated(){return!!this.attributes.user}async load(){this.loading(),await m.get("/sanctum/csrf-cookie").catch(t=>{throw this.failed(),t});const{data:e}=await m.get("/api/user");if(!("user"in e))throw Error("Instance of user is not defined.");Object.keys(e).forEach(t=>{this.attributes[t]=e[t]}),this.loaded()}loading(){return this.state.loading()}loaded(){return this.state.loaded()}failed(){return this.state.failed()}reset(){this.attributes=r.reactive({user:null}),this.state.reset()}}const Yr=new zr;async function Kr(s={}){return(await F.useOruga().modal.open({component:R,props:Object.assign({title:"Confirm",message:"Are you sure you want proceed?",confirmText:"Yes",cancelText:"Cancel"},s),trapFocus:!0}).promise).action}async function je(s,e){var i,a,l,d,f,C;if((s==null?void 0:s.code)==="ERR_CANCELED")return Promise.reject(s);const t={401:"Authentication required. Please reload the page and sign in.",403:"You do not have permission to perform this action.",404:"The page or action you are looking for could not be found.",419:"Your session has likely expired. Try again or reload the page.",422:"The action attempted was invalid. Please review your input and try again.",500:"An unexpected error has occurred. This issue has been reported.",503:"The site is currently under maintenance. Please try again later."};Object.assign(t,(e==null?void 0:e.messages)||{});const n=t[(i=s.response)==null?void 0:i.status]||t[500],o=F.useOruga();if(o.notification.open({message:n,duration:1e3*5,variant:"danger",position:"bottom-right",closable:!0}),((a=s.response)==null?void 0:a.status)===419){o.modal.open({component:((l=e.components)==null?void 0:l.TokenExpired)||I,trapFocus:!0,closable:!1});const y=(await m.get("/heartbeat")).data.csrfToken;m.defaults.headers.common["X-CSRF-TOKEN"]=y}if(((d=s.response)==null?void 0:d.status)===401&&o.modal.open({component:((f=e.components)==null?void 0:f.SessionExpired)||M,trapFocus:!0,closable:!1}),((C=s.response)==null?void 0:C.status)===422){const p=setInterval(()=>{const y=document.querySelectorAll(".o-field__message-danger, .wyxos-error"),J=E=>{const H=E.getBoundingClientRect(),$=window.getComputedStyle(E);return H.width>0&&H.height>0&&$.display!=="none"&&$.visibility!=="hidden"&&$.opacity!=="0"},w=Array.from(y).find(J);if(w){clearInterval(p);let E;if(w.classList.contains("o-field__message-danger")?E=w.closest(".o-field"):w.classList.contains("wyxos-error")&&(E=w.closest("label")),E){const $=E.getBoundingClientRect().top+window.scrollY-10;window.scrollTo({top:$,behavior:"smooth"})}else console.error("Could not determine the scroll target.")}},100)}return Promise.reject(s)}function Jr(s){F.useOruga().notification.open({message:s||"Action successful.",duration:2500,variant:"success",position:"bottom-right",closable:!0})}function Hr(s){m.interceptors.response.use(null,e=>je(e,s))}const Pe=Object.assign({"./components/WyxosAccordion.vue":qe,"./components/WyxosAction.vue":Re,"./components/WyxosAsync.vue":Ue,"./components/WyxosButton.vue":Qe,"./components/WyxosCollection.vue":Ze,"./components/WyxosConfirm.vue":ot,"./components/WyxosDatepicker.vue":lt,"./components/WyxosDeleteButton.vue":ct,"./components/WyxosError.vue":ht,"./components/WyxosForm.vue":Ot,"./components/WyxosIcon.vue":Bt,"./components/WyxosImage.vue":jt,"./components/WyxosInlineEdit.vue":Mt,"./components/WyxosInput.vue":Ut,"./components/WyxosListing.vue":Jt,"./components/WyxosLiveInput.vue":Xt,"./components/WyxosLogout.vue":vt,"./components/WyxosProgress.vue":nr,"./components/WyxosPrompt.vue":lr,"./components/WyxosRemove.vue":mr,"./components/WyxosSelect.vue":yr,"./components/WyxosSessionExpired.vue":wr,"./components/WyxosSubmit.vue":$r,"./components/WyxosTab.vue":Fr,"./components/WyxosTags.vue":Pr,"./components/WyxosTokenExpired.vue":Ar,"./components/WyxosUpdateButton.vue":Rr}),K={},Qr=(s,e={})=>{e={vision:{},oruga:{},use:{oruga:!0},...e},e.use.oruga&&s.use(F,e.oruga),Object.keys(Pe).forEach(t=>{const n=Pe[t];if(n&&n.default){const o=n.default,i=o.name;if(i)s.component(i,o),s.component(i.replace("Wyxos","W"),o),K[i]=o;else{const a=t.split("/").pop().split(".")[0];s.component(a,o),s.component(a.replace("Wyxos","W"),o),K[a]=o}}else console.error(`Could not load component from '${t}'`)}),s.config.globalProperties.$v={to:(t,n)=>({name:t,params:n})},Hr(e)},Te={route(s,e,t){return{name:s,params:e,query:t}}},Xr={install:Qr,...K,vn:Te};c.Action=P,c.AsyncData=D,c.AutoComplete=U,c.DateRender=Ne,c.FileRequest=Mr,c.Filter=T,c.FormBuilder=b,c.Listing=x,c.LoadState=V,c.Modal=z,c.Option=Ir,c.ResourceList=Dr,c.Search=j,c.Steps=Ur,c.Tab=Y,c.WyxosAccordion=Q,c.WyxosAction=N,c.WyxosAsync=X,c.WyxosButton=G,c.WyxosCollection=Z,c.WyxosConfirm=v,c.WyxosDatepicker=ee,c.WyxosDeleteButton=te,c.WyxosError=re,c.WyxosForm=pe,c.WyxosIcon=ye,c.WyxosImage=be,c.WyxosInlineEdit=_e,c.WyxosInput=Se,c.WyxosListing=Ce,c.WyxosLiveInput=we,c.WyxosLogout=ke,c.WyxosProgress=Ve,c.WyxosPrompt=R,c.WyxosRemove=Ee,c.WyxosSelect=xe,c.WyxosSessionExpired=M,c.WyxosSubmit=Oe,c.WyxosTab=Be,c.WyxosTags=$e,c.WyxosTokenExpired=I,c.WyxosUpdateButton=Fe,c.auth=Yr,c.confirm=Kr,c.default=Xr,c.errorHandler=je,c.success=Jr,c.useFormErrors=O,c.vn=Te,Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=vision.umd.cjs.map
