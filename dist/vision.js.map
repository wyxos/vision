{"version":3,"file":"vision.js","sources":["../src/frontend/components/WyxosButton.vue","../src/frontend/components/WyxosCollection.vue","../src/frontend/utilities/LoadState.js","../src/frontend/components/WyxosConfirm.vue","../src/frontend/utilities/useFormErrors.js","../src/frontend/utilities/FormBuilder.js","../src/frontend/components/WyxosDatepicker.vue","../src/frontend/components/WyxosError.vue","../node_modules/decode-uri-component/index.js","../node_modules/split-on-first/index.js","../node_modules/filter-obj/index.js","../node_modules/query-string/base.js","../src/frontend/utilities/Listing.js","../src/frontend/components/WyxosForm.vue","../src/frontend/components/WyxosImage.vue","../src/frontend/components/WyxosInput.vue","../src/frontend/components/WyxosListing.vue","../src/frontend/components/WyxosLiveInput.vue","../src/frontend/components/WyxosLogout.vue","../src/frontend/components/WyxosProgress.vue","../src/frontend/components/WyxosPrompt.vue","../src/frontend/components/WyxosRemove.vue","../src/frontend/components/WyxosSelect.vue","../src/frontend/components/WyxosSessionExpired.vue","../src/frontend/components/WyxosSubmit.vue","../src/frontend/utilities/Search.js","../src/frontend/components/WyxosTags.vue","../src/frontend/components/WyxosTokenExpired.vue","../src/frontend/utilities/auth.js","../src/frontend/utilities/confirm.js","../src/frontend/utilities/dateRender.js","../src/frontend/utilities/errorHandler.js","../src/frontend/utilities/FileRequest.js","../src/frontend/utilities/Modal.js","../src/frontend/utilities/Option.js","../src/frontend/utilities/ResourceList.js","../src/frontend/utilities/Steps.js","../src/frontend/utilities/success.js","../src/frontend/utilities/Tab.js","../src/frontend/errorHandlerSetup.js"],"sourcesContent":["<script>\r\nexport default {\r\n  name: 'WyxosButton',\r\n  props: {\r\n    loading: {\r\n      default: false,\r\n      type: Boolean\r\n    },\r\n    text: {\r\n      type: String,\r\n      default: 'Processing...'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <o-button :disabled=\"loading\">\r\n    <slot v-if=\"!loading\">Submit</slot>\r\n    <slot v-if=\"loading && text\" name=\"loading\">{{ text }}</slot>\r\n    <i v-if=\"loading\" class=\"fas fa-spinner fa-spin\"></i>\r\n  </o-button>\r\n</template>\r\n","<script>\r\nexport default {\r\n  name: 'WyxosCollection',\r\n  props: {\r\n    modelValue: {\r\n      required: true,\r\n      type: Array\r\n    }\r\n  },\r\n  emits: ['update:modelValue'],\r\n  data() {\r\n    return {\r\n      items: []\r\n    }\r\n  },\r\n  mounted() {\r\n    this.items = this.modelValue\r\n  },\r\n  methods: {\r\n    add(payload) {\r\n      this.items.push(payload)\r\n\r\n      this.$emit('update:modelValue', this.items)\r\n    },\r\n    remove(index) {\r\n      this.items.splice(index, 1)\r\n\r\n      this.$emit('update:modelValue', this.items)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <slot v-bind=\"{ add, remove, items }\">\r\n    <ul>\r\n      <li></li>\r\n    </ul>\r\n  </slot>\r\n</template>\r\n","import { reactive } from 'vue'\r\n\r\nexport default class LoadState {\r\n  state = reactive({\r\n    isLoading: false,\r\n    isLoaded: false,\r\n    isFailure: false\r\n  })\r\n\r\n  get isLoading() {\r\n    return this.state.isLoading\r\n  }\r\n\r\n  get isLoaded() {\r\n    return this.state.isLoaded\r\n  }\r\n\r\n  get isFailure() {\r\n    return this.state.isFailure\r\n  }\r\n\r\n  isState(state) {\r\n    return this.state[state]\r\n  }\r\n\r\n  loading() {\r\n    Object.assign(this.state, {\r\n      isLoading: true,\r\n      isLoaded: false,\r\n      isFailure: false\r\n    })\r\n  }\r\n\r\n  loaded() {\r\n    Object.assign(this.state, {\r\n      isLoading: false,\r\n      isLoaded: true,\r\n      isFailure: false\r\n    })\r\n  }\r\n\r\n  failed() {\r\n    Object.assign(this.state, {\r\n      isLoading: false,\r\n      isLoaded: false,\r\n      isFailure: true\r\n    })\r\n  }\r\n\r\n  reset() {\r\n    Object.assign(this.state, {\r\n      isLoading: false,\r\n      isLoaded: false,\r\n      isFailure: false\r\n    })\r\n  }\r\n\r\n  static create() {\r\n    return new LoadState()\r\n  }\r\n}\r\n","<script>\r\nimport LoadState from '../utilities/LoadState'\r\n\r\nexport default {\r\n  name: 'WyxosConfirm',\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: 'Title'\r\n    },\r\n    message: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    confirmText: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    confirmType: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    cancelText: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    loading: {\r\n      type: Boolean\r\n    },\r\n    callback: {\r\n      type: Function,\r\n      default: null\r\n    }\r\n  },\r\n  emits: ['close'],\r\n  setup() {\r\n    return {\r\n      state: new LoadState()\r\n    }\r\n  },\r\n  methods: {\r\n    async proceed() {\r\n      if (this.callback) {\r\n        this.state.loading()\r\n\r\n        await this.callback().catch((error) => {\r\n          this.state.failed()\r\n\r\n          throw error\r\n        })\r\n\r\n        this.state.loaded()\r\n      }\r\n\r\n      this.$emit('close', { action: true })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <o-modal :active=\"true\" @close=\"$emit('close', { action: false })\">\r\n    <section class=\"bg-white p-6\">\r\n      <article>\r\n        <header>\r\n          <h3 class=\"title\">{{ title }}</h3>\r\n        </header>\r\n        <p class=\"mb-6\">{{ message }}</p>\r\n        <footer class=\"buttons\" role=\"group\">\r\n          <wyxos-button\r\n            :disabled=\"state.isLoading\"\r\n            class=\"button secondary\"\r\n            native-type=\"button\"\r\n            @click=\"$emit('close', { action: false })\"\r\n            >{{ cancelText }}\r\n          </wyxos-button>\r\n          <wyxos-button\r\n            :class=\"{ [confirmType]: true }\"\r\n            :loading=\"state.isLoading\"\r\n            class=\"button\"\r\n            native-type=\"button\"\r\n            @click=\"proceed()\">\r\n            {{ confirmText }}\r\n          </wyxos-button>\r\n        </footer>\r\n      </article>\r\n    </section>\r\n  </o-modal>\r\n</template>\r\n","import { reactive } from 'vue'\r\n\r\nconst formErrors = reactive({\r\n  default: []\r\n})\r\n\r\nexport default function useFormErrors() {\r\n  return {\r\n    createBag(bag) {\r\n      if (!formErrors[bag]) {\r\n        formErrors[bag] = []\r\n      }\r\n    },\r\n    set(error, bag = 'default') {\r\n      const hasValidationErrors =\r\n        error.response && error.response.data && error.response.data.errors\r\n\r\n      if (!hasValidationErrors) {\r\n        throw error\r\n      }\r\n\r\n      formErrors[bag] = Object.keys(error.response.data.errors).map((key) => {\r\n        return {\r\n          key,\r\n          message: error.response.data.errors[key][0]\r\n        }\r\n      })\r\n    },\r\n    get(key, bag = 'default') {\r\n      const target = formErrors[bag]\r\n\r\n      if (!target) {\r\n        return {\r\n          message: '',\r\n          variant: ''\r\n        }\r\n      }\r\n\r\n      const match = target.find((error) =>\r\n        Array.isArray(key) ? key.includes(error.key) : error.key === key\r\n      )\r\n\r\n      if (!match) {\r\n        return {\r\n          message: '',\r\n          variant: ''\r\n        }\r\n      }\r\n\r\n      return {\r\n        message: match.message,\r\n        variant: 'danger'\r\n      }\r\n    },\r\n    clear(key = null, bag = 'default') {\r\n      if (key) {\r\n        const target = formErrors[bag]\r\n\r\n        if (!target) {\r\n          console.warn(`Bag ${bag} is not defined.`)\r\n          return\r\n        }\r\n\r\n        const index = target.findIndex((error) => error.key === key)\r\n\r\n        target.splice(index, 1)\r\n\r\n        return\r\n      }\r\n\r\n      formErrors[bag] = []\r\n    },\r\n    all(bag = 'default') {\r\n      return formErrors[bag]\r\n    }\r\n  }\r\n}\r\n","import axios from 'axios'\r\nimport { reactive } from 'vue'\r\nimport useFormErrors from './useFormErrors'\r\nimport State from './LoadState'\r\n\r\nexport default class FormBuilder {\r\n  errors = null\r\n  errorBag = 'default'\r\n  model = reactive({})\r\n  form = reactive({})\r\n  original = {}\r\n  states = {\r\n    load: State.create(),\r\n    submit: State.create()\r\n  }\r\n\r\n  paths = {\r\n    load: null,\r\n    submit: null\r\n  }\r\n\r\n  // Add an abort controller property\r\n  abortController = null\r\n\r\n  timeout = null\r\n\r\n  constructor(form = {}) {\r\n    this.errors = useFormErrors()\r\n    this.errors.createBag(this.errorBag)\r\n    this.setAttributes(form)\r\n    this.loaded()\r\n\r\n    return new Proxy(this, {\r\n      get(target, name, receiver) {\r\n        // Check if the property exists in the instance\r\n        if (Reflect.has(target, name)) {\r\n          return Reflect.get(target, name, receiver)\r\n        }\r\n        // If not, attempt to access it from the 'form' object\r\n        if (Reflect.has(target.form, name)) {\r\n          const path = name.split('.')\r\n          if (path.length > 1) {\r\n            // handle nested properties\r\n            let value = target.form\r\n\r\n            for (let i = 0; i < path.length; i++) {\r\n              value = value[path[i]]\r\n            }\r\n\r\n            if (value === undefined || value === null) {\r\n              return undefined\r\n            }\r\n\r\n            return value\r\n          }\r\n\r\n          return Reflect.get(target.form, name)\r\n        }\r\n        return undefined\r\n      },\r\n      set(target, name, value, receiver) {\r\n        // Check if the property exists in the instance\r\n        if (Reflect.has(target, name)) {\r\n          return Reflect.set(target, name, value, receiver)\r\n        }\r\n        // If not, attempt to set it in the 'form' object\r\n        if (Reflect.has(target.form, name)) {\r\n          const path = name.split('.')\r\n\r\n          if (path.length > 1) {\r\n            let obj = target.form\r\n\r\n            for (let i = 0; i < path.length - 1; i++) {\r\n              if (!(path[i] in obj)) {\r\n                obj[path[i]] = {}\r\n              }\r\n              obj = obj[path[i]]\r\n            }\r\n\r\n            if (obj[path[path.length - 1]] === undefined) {\r\n              return false\r\n            }\r\n\r\n            obj[path[path.length - 1]] = value\r\n\r\n            return true\r\n          }\r\n\r\n          return Reflect.set(target.form, name, value)\r\n        }\r\n\r\n        return false\r\n      }\r\n    })\r\n  }\r\n\r\n  get isSubmitting() {\r\n    return this.states.submit.isLoading\r\n  }\r\n\r\n  get isSubmitted() {\r\n    return this.states.submit.isLoaded\r\n  }\r\n\r\n  get isSubmitFailed() {\r\n    return this.states.submit.isFailure\r\n  }\r\n\r\n  get isLoading() {\r\n    return this.states.load.isLoading\r\n  }\r\n\r\n  get isLoaded() {\r\n    return this.states.load.isLoaded\r\n  }\r\n\r\n  get isFailure() {\r\n    return this.states.load.isFailure\r\n  }\r\n\r\n  get isDirty() {\r\n    return JSON.stringify(this.original) !== JSON.stringify(this.form)\r\n  }\r\n\r\n  static create(options) {\r\n    return new this(options)\r\n  }\r\n\r\n  setPaths(paths = {}) {\r\n    Object.assign(this.paths, paths)\r\n\r\n    return this\r\n  }\r\n\r\n  setLoad(url) {\r\n    this.paths.load = url\r\n\r\n    return this\r\n  }\r\n\r\n  setSubmit(url) {\r\n    this.paths.submit = url\r\n\r\n    return this\r\n  }\r\n\r\n  setErrors(bag) {\r\n    this.errorBag = bag || 'default'\r\n\r\n    this.errors = useFormErrors()\r\n\r\n    this.errors.createBag(this.errorBag)\r\n  }\r\n\r\n  setAttributes(attributes) {\r\n    this.original = attributes\r\n    this.form = reactive({ ...attributes })\r\n  }\r\n\r\n  getError(key) {\r\n    return this.errors.get(key, this.errorBag)\r\n  }\r\n\r\n  clearError(key) {\r\n    this.errors.clear(key, this.errorBag)\r\n  }\r\n\r\n  get(path = null, { formatter = null, ...axiosConfig } = {}) {\r\n    return this.submitRequest('get', path, { formatter, ...axiosConfig })\r\n  }\r\n\r\n  post(path = null, { formatter = null, ...axiosConfig } = {}) {\r\n    return this.submitRequest('post', path, { formatter, ...axiosConfig })\r\n  }\r\n\r\n  submit(path = null, { formatter = null, ...axiosConfig } = {}) {\r\n    path = path || this.paths.submit\r\n\r\n    if (!path) {\r\n      throw Error('No valid URL defined for submit method.')\r\n    }\r\n\r\n    return this.submitRequest('post', path, { formatter, ...axiosConfig })\r\n  }\r\n\r\n  delete(path = null, { formatter = null, ...axiosConfig } = {}) {\r\n    return this.submitRequest('delete', path, { formatter, ...axiosConfig })\r\n  }\r\n\r\n  put(path = null, { formatter = null, ...axiosConfig } = {}) {\r\n    return this.submitRequest('put', path, { formatter, ...axiosConfig })\r\n  }\r\n\r\n  patch(path, { formatter = null, ...axiosConfig } = {}) {\r\n    return this.submitRequest('patch', path, { formatter, ...axiosConfig })\r\n  }\r\n\r\n  submitRequest(\r\n    method,\r\n    path = null,\r\n    { formatter = null, ...axiosConfig } = {}\r\n  ) {\r\n    // Validate inputs\r\n    if (path && typeof path !== 'string')\r\n      throw new Error('Path must be a string')\r\n    if (formatter !== null && typeof formatter !== 'function')\r\n      throw new Error('Formatter must be a function')\r\n\r\n    // If there's an ongoing request, abort it\r\n    if (this.abortController) {\r\n      this.abortController.abort()\r\n    }\r\n\r\n    // Create a new AbortController\r\n    this.abortController = new AbortController()\r\n\r\n    // Add the signal to the axios config\r\n    axiosConfig.signal = this.abortController.signal\r\n\r\n    this.clearErrors()\r\n    this.submitting()\r\n\r\n    const payload = formatter ? formatter(this.form) : { ...this.form }\r\n\r\n    let request\r\n\r\n    if (['get', 'delete'].includes(method)) {\r\n      axiosConfig.params = payload\r\n      request = axios[method](path, axiosConfig)\r\n    } else {\r\n      request = axios[method](path, payload, axiosConfig)\r\n    }\r\n\r\n    return request\r\n      .then((response) => {\r\n        // After a successful request, nullify the abortController\r\n        this.abortController = null\r\n\r\n        this.clearErrors()\r\n        this.submitted()\r\n        // this.states.submit.reset()\r\n\r\n        return response.data\r\n      })\r\n      .catch((error) => {\r\n        if (error.name === 'AbortError') {\r\n          console.log('Request aborted:', error.message)\r\n        } else {\r\n          this.submitFailed()\r\n          this.errors.set(error, this.errorBag)\r\n        }\r\n        return Promise.reject(error)\r\n      })\r\n  }\r\n\r\n  clearErrors() {\r\n    this.errors.clear(null, this.errorBag)\r\n  }\r\n\r\n  handleSubmissionFailure(error) {\r\n    this.submitFailed()\r\n    this.errors.set(error, this.errorBag)\r\n  }\r\n\r\n  async advancedSubmit(callback) {\r\n    this.states.submit.loading()\r\n\r\n    const { data } = await Promise.resolve(callback(axios, this.form)).catch(\r\n      (error) => {\r\n        this.states.submit.failed()\r\n\r\n        this.errors.set(error, this.errorBag)\r\n\r\n        throw error\r\n      }\r\n    )\r\n\r\n    this.states.submit.loaded()\r\n\r\n    return data\r\n  }\r\n\r\n  async load(\r\n    path = '',\r\n    { updateLoading = true, updateOriginal = true, ...axiosConfig } = {}\r\n  ) {\r\n    this.clearErrors()\r\n\r\n    this.states.load.loading()\r\n\r\n    try {\r\n      const { data } = await axios.get(path || this.paths.load, axiosConfig)\r\n\r\n      if (updateOriginal) {\r\n        Object.assign(this.original, data.form)\r\n      }\r\n\r\n      Object.assign(this.form, data.form)\r\n\r\n      if (data.model) {\r\n        Object.assign(this.model, data.model)\r\n      }\r\n\r\n      if (updateLoading) {\r\n        this.loaded()\r\n      }\r\n\r\n      return data\r\n    } catch (error) {\r\n      this.states.load.failed()\r\n      throw error\r\n    }\r\n  }\r\n\r\n  loading() {\r\n    this.states.load.loading()\r\n\r\n    return this\r\n  }\r\n\r\n  loaded() {\r\n    this.states.load.loaded()\r\n\r\n    return this\r\n  }\r\n\r\n  loadFailed() {\r\n    this.states.load.failed()\r\n\r\n    return this\r\n  }\r\n\r\n  submitting() {\r\n    this.states.submit.loading()\r\n\r\n    return this\r\n  }\r\n\r\n  submitFailed() {\r\n    this.states.submit.failed()\r\n\r\n    return this\r\n  }\r\n\r\n  submitted() {\r\n    this.states.submit.loaded()\r\n\r\n    return this\r\n  }\r\n\r\n  reset() {\r\n    Object.assign(this.form, this.original)\r\n  }\r\n\r\n  resetOnly(keys) {\r\n    // Ensure keys is an array\r\n    if (!Array.isArray(keys)) {\r\n      throw new Error('The keys should be an array.')\r\n    }\r\n\r\n    // Loop through the keys and reset only those\r\n    keys.forEach((key) => {\r\n      if (Object.prototype.hasOwnProperty.call(this.original, key)) {\r\n        this.form[key] = this.original[key]\r\n      }\r\n    })\r\n  }\r\n\r\n  resetExcept(keys) {\r\n    // Ensure keys is an array\r\n    if (!Array.isArray(keys)) {\r\n      throw new Error('The keys should be an array.')\r\n    }\r\n\r\n    // Assign the new form object back to the reactive form\r\n    Object.keys(this.form).forEach((key) => {\r\n      console.log('key', key, !keys.includes(key), this.original[key])\r\n      if (!keys.includes(key)) {\r\n        this.form[key] = this.original[key]\r\n      }\r\n    })\r\n  }\r\n\r\n  delay(timeout = 0, callback) {\r\n    clearTimeout(this.timeout)\r\n\r\n    this.timeout = setTimeout(callback, timeout)\r\n  }\r\n}\r\n","<script>\r\nimport moment from 'moment'\r\nimport FormBuilder from '../utilities/FormBuilder'\r\n\r\nexport default {\r\n  name: 'WyxosDatepicker',\r\n  props: {\r\n    modelValue: {\r\n      required: true,\r\n      type: [null, String]\r\n    },\r\n    displayFormat: {\r\n      type: String,\r\n      default: 'DD/MM/YYYY'\r\n    },\r\n    submitFormat: {\r\n      type: String,\r\n      default: 'YYYY-MM-DD'\r\n    },\r\n    label: {\r\n      type: String,\r\n      default: null\r\n    },\r\n    name: {\r\n      type: String,\r\n      default: null\r\n    },\r\n    form: {\r\n      type: FormBuilder,\r\n      default: null\r\n    },\r\n    options: {\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  emits: ['update:modelValue'],\r\n  data() {\r\n    return {\r\n      query: null\r\n    }\r\n  },\r\n  watch: {\r\n    modelValue(newVal) {\r\n      this.query = newVal ? moment(newVal, this.submitFormat)._d : null\r\n    }\r\n  },\r\n  mounted() {\r\n    if (this.modelValue) {\r\n      this.query = moment(this.modelValue, this.submitFormat)._d\r\n    }\r\n  },\r\n  methods: {\r\n    dateFormatter(value) {\r\n      if (!value) {\r\n        return null\r\n      }\r\n\r\n      return moment(value).format(this.displayFormat)\r\n    },\r\n    updateQuery() {\r\n      this.$emit(\r\n        'update:modelValue',\r\n        this.query ? moment(this.query).format(this.submitFormat) : null\r\n      )\r\n\r\n      this.form?.clearError(this.name)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <o-field :label=\"label\" v-bind=\"form?.getError(name)\">\r\n    <o-datepicker\r\n      v-model=\"query\"\r\n      v-bind=\"options\"\r\n      :date-formatter=\"dateFormatter\"\r\n      @update:model-value=\"updateQuery\"></o-datepicker>\r\n  </o-field>\r\n</template>\r\n","<script>\r\nimport { defineComponent } from 'vue'\r\nimport FormBuilder from '../utilities/FormBuilder'\r\nimport useFormErrors from '../utilities/useFormErrors.js'\r\n\r\nexport default defineComponent({\r\n  name: 'WyxosError',\r\n  props: {\r\n    form: {\r\n      type: FormBuilder,\r\n      default: null\r\n    },\r\n    name: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  setup() {\r\n    return {\r\n      errors: useFormErrors()\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<template>\r\n  <p v-if=\"form?.getError(name).message\">{{ form.getError(name).message }}</p>\r\n  <p v-else-if=\"errors.get(name)?.message\">{{ errors.get(name).message }}</p>\r\n</template>\r\n","const token = '%[a-f0-9]{2}';\nconst singleMatcher = new RegExp('(' + token + ')|([^%]+?)', 'gi');\nconst multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn [decodeURIComponent(components.join(''))];\n\t} catch {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tconst left = components.slice(0, split);\n\tconst right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch {\n\t\tlet tokens = input.match(singleMatcher) || [];\n\n\t\tfor (let i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher) || [];\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tconst replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD',\n\t};\n\n\tlet match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch {\n\t\t\tconst result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tconst entries = Object.keys(replaceMap);\n\n\tfor (const key of entries) {\n\t\t// Replace all decoded components\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nexport default function decodeUriComponent(encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n}\n","export default function splitOnFirst(string, separator) {\n\tif (!(typeof string === 'string' && typeof separator === 'string')) {\n\t\tthrow new TypeError('Expected the arguments to be of type `string`');\n\t}\n\n\tif (string === '' || separator === '') {\n\t\treturn [];\n\t}\n\n\tconst separatorIndex = string.indexOf(separator);\n\n\tif (separatorIndex === -1) {\n\t\treturn [];\n\t}\n\n\treturn [\n\t\tstring.slice(0, separatorIndex),\n\t\tstring.slice(separatorIndex + separator.length)\n\t];\n}\n","export function includeKeys(object, predicate) {\n\tconst result = {};\n\n\tif (Array.isArray(predicate)) {\n\t\tfor (const key of predicate) {\n\t\t\tconst descriptor = Object.getOwnPropertyDescriptor(object, key);\n\t\t\tif (descriptor?.enumerable) {\n\t\t\t\tObject.defineProperty(result, key, descriptor);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// `Reflect.ownKeys()` is required to retrieve symbol properties\n\t\tfor (const key of Reflect.ownKeys(object)) {\n\t\t\tconst descriptor = Object.getOwnPropertyDescriptor(object, key);\n\t\t\tif (descriptor.enumerable) {\n\t\t\t\tconst value = object[key];\n\t\t\t\tif (predicate(key, value, object)) {\n\t\t\t\t\tObject.defineProperty(result, key, descriptor);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn result;\n}\n\nexport function excludeKeys(object, predicate) {\n\tif (Array.isArray(predicate)) {\n\t\tconst set = new Set(predicate);\n\t\treturn includeKeys(object, key => !set.has(key));\n\t}\n\n\treturn includeKeys(object, (key, value, object) => !predicate(key, value, object));\n}\n","import decodeComponent from 'decode-uri-component';\nimport splitOnFirst from 'split-on-first';\nimport {includeKeys} from 'filter-obj';\n\nconst isNullOrUndefined = value => value === null || value === undefined;\n\n// eslint-disable-next-line unicorn/prefer-code-point\nconst strictUriEncode = string => encodeURIComponent(string).replace(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n\nconst encodeFragmentIdentifier = Symbol('encodeFragmentIdentifier');\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index': {\n\t\t\treturn key => (result, value) => {\n\t\t\t\tconst index = result.length;\n\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined\n\t\t\t\t\t|| (options.skipNull && value === null)\n\t\t\t\t\t|| (options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [\n\t\t\t\t\t\t...result, [encode(key, options), '[', index, ']'].join(''),\n\t\t\t\t\t];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join(''),\n\t\t\t\t];\n\t\t\t};\n\t\t}\n\n\t\tcase 'bracket': {\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined\n\t\t\t\t\t|| (options.skipNull && value === null)\n\t\t\t\t\t|| (options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [\n\t\t\t\t\t\t...result,\n\t\t\t\t\t\t[encode(key, options), '[]'].join(''),\n\t\t\t\t\t];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '[]=', encode(value, options)].join(''),\n\t\t\t\t];\n\t\t\t};\n\t\t}\n\n\t\tcase 'colon-list-separator': {\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined\n\t\t\t\t\t|| (options.skipNull && value === null)\n\t\t\t\t\t|| (options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [\n\t\t\t\t\t\t...result,\n\t\t\t\t\t\t[encode(key, options), ':list='].join(''),\n\t\t\t\t\t];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), ':list=', encode(value, options)].join(''),\n\t\t\t\t];\n\t\t\t};\n\t\t}\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\tcase 'bracket-separator': {\n\t\t\tconst keyValueSep = options.arrayFormat === 'bracket-separator'\n\t\t\t\t? '[]='\n\t\t\t\t: '=';\n\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined\n\t\t\t\t\t|| (options.skipNull && value === null)\n\t\t\t\t\t|| (options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\t// Translate null to an empty string so that it doesn't serialize as 'null'\n\t\t\t\tvalue = value === null ? '' : value;\n\n\t\t\t\tif (result.length === 0) {\n\t\t\t\t\treturn [[encode(key, options), keyValueSep, encode(value, options)].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [[result, encode(value, options)].join(options.arrayFormatSeparator)];\n\t\t\t};\n\t\t}\n\n\t\tdefault: {\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined\n\t\t\t\t\t|| (options.skipNull && value === null)\n\t\t\t\t\t|| (options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [\n\t\t\t\t\t\t...result,\n\t\t\t\t\t\tencode(key, options),\n\t\t\t\t\t];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '=', encode(value, options)].join(''),\n\t\t\t\t];\n\t\t\t};\n\t\t}\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index': {\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\t\t}\n\n\t\tcase 'bracket': {\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [...accumulator[key], value];\n\t\t\t};\n\t\t}\n\n\t\tcase 'colon-list-separator': {\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(:list)$/.exec(key);\n\t\t\t\tkey = key.replace(/:list$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [...accumulator[key], value];\n\t\t\t};\n\t\t}\n\n\t\tcase 'comma':\n\t\tcase 'separator': {\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = typeof value === 'string' && value.includes(options.arrayFormatSeparator);\n\t\t\t\tconst isEncodedArray = (typeof value === 'string' && !isArray && decode(value, options).includes(options.arrayFormatSeparator));\n\t\t\t\tvalue = isEncodedArray ? decode(value, options) : value;\n\t\t\t\tconst newValue = isArray || isEncodedArray ? value.split(options.arrayFormatSeparator).map(item => decode(item, options)) : (value === null ? value : decode(value, options));\n\t\t\t\taccumulator[key] = newValue;\n\t\t\t};\n\t\t}\n\n\t\tcase 'bracket-separator': {\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = /(\\[])$/.test(key);\n\t\t\t\tkey = key.replace(/\\[]$/, '');\n\n\t\t\t\tif (!isArray) {\n\t\t\t\t\taccumulator[key] = value ? decode(value, options) : value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst arrayValue = value === null\n\t\t\t\t\t? []\n\t\t\t\t\t: value.split(options.arrayFormatSeparator).map(item => decode(item, options));\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = arrayValue;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [...accumulator[key], ...arrayValue];\n\t\t\t};\n\t\t}\n\n\t\tdefault: {\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [...[accumulator[key]].flat(), value];\n\t\t\t};\n\t\t}\n\t}\n}\n\nfunction validateArrayFormatSeparator(value) {\n\tif (typeof value !== 'string' || value.length !== 1) {\n\t\tthrow new TypeError('arrayFormatSeparator must be single character string');\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction removeHash(input) {\n\tconst hashStart = input.indexOf('#');\n\tif (hashStart !== -1) {\n\t\tinput = input.slice(0, hashStart);\n\t}\n\n\treturn input;\n}\n\nfunction getHash(url) {\n\tlet hash = '';\n\tconst hashStart = url.indexOf('#');\n\tif (hashStart !== -1) {\n\t\thash = url.slice(hashStart);\n\t}\n\n\treturn hash;\n}\n\nfunction parseValue(value, options) {\n\tif (options.parseNumbers && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {\n\t\tvalue = Number(value);\n\t} else if (options.parseBooleans && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {\n\t\tvalue = value.toLowerCase() === 'true';\n\t}\n\n\treturn value;\n}\n\nexport function extract(input) {\n\tinput = removeHash(input);\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\n\treturn input.slice(queryStart + 1);\n}\n\nexport function parse(query, options) {\n\toptions = {\n\t\tdecode: true,\n\t\tsort: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ',',\n\t\tparseNumbers: false,\n\t\tparseBooleans: false,\n\t\t...options,\n\t};\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst returnValue = Object.create(null);\n\n\tif (typeof query !== 'string') {\n\t\treturn returnValue;\n\t}\n\n\tquery = query.trim().replace(/^[?#&]/, '');\n\n\tif (!query) {\n\t\treturn returnValue;\n\t}\n\n\tfor (const parameter of query.split('&')) {\n\t\tif (parameter === '') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst parameter_ = options.decode ? parameter.replace(/\\+/g, ' ') : parameter;\n\n\t\tlet [key, value] = splitOnFirst(parameter_, '=');\n\n\t\tif (key === undefined) {\n\t\t\tkey = parameter_;\n\t\t}\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : (['comma', 'separator', 'bracket-separator'].includes(options.arrayFormat) ? value : decode(value, options));\n\t\tformatter(decode(key, options), value, returnValue);\n\t}\n\n\tfor (const [key, value] of Object.entries(returnValue)) {\n\t\tif (typeof value === 'object' && value !== null) {\n\t\t\tfor (const [key2, value2] of Object.entries(value)) {\n\t\t\t\tvalue[key2] = parseValue(value2, options);\n\t\t\t}\n\t\t} else {\n\t\t\treturnValue[key] = parseValue(value, options);\n\t\t}\n\t}\n\n\tif (options.sort === false) {\n\t\treturn returnValue;\n\t}\n\n\t// TODO: Remove the use of `reduce`.\n\t// eslint-disable-next-line unicorn/no-array-reduce\n\treturn (options.sort === true ? Object.keys(returnValue).sort() : Object.keys(returnValue).sort(options.sort)).reduce((result, key) => {\n\t\tconst value = returnValue[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexport function stringify(object, options) {\n\tif (!object) {\n\t\treturn '';\n\t}\n\n\toptions = {encode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ',', ...options};\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst shouldFilter = key => (\n\t\t(options.skipNull && isNullOrUndefined(object[key]))\n\t\t|| (options.skipEmptyString && object[key] === '')\n\t);\n\n\tconst formatter = encoderForArrayFormat(options);\n\n\tconst objectCopy = {};\n\n\tfor (const [key, value] of Object.entries(object)) {\n\t\tif (!shouldFilter(key)) {\n\t\t\tobjectCopy[key] = value;\n\t\t}\n\t}\n\n\tconst keys = Object.keys(objectCopy);\n\n\tif (options.sort !== false) {\n\t\tkeys.sort(options.sort);\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = object[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\tif (value.length === 0 && options.arrayFormat === 'bracket-separator') {\n\t\t\t\treturn encode(key, options) + '[]';\n\t\t\t}\n\n\t\t\treturn value\n\t\t\t\t.reduce(formatter(key), [])\n\t\t\t\t.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&');\n}\n\nexport function parseUrl(url, options) {\n\toptions = {\n\t\tdecode: true,\n\t\t...options,\n\t};\n\n\tlet [url_, hash] = splitOnFirst(url, '#');\n\n\tif (url_ === undefined) {\n\t\turl_ = url;\n\t}\n\n\treturn {\n\t\turl: url_?.split('?')?.[0] ?? '',\n\t\tquery: parse(extract(url), options),\n\t\t...(options && options.parseFragmentIdentifier && hash ? {fragmentIdentifier: decode(hash, options)} : {}),\n\t};\n}\n\nexport function stringifyUrl(object, options) {\n\toptions = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\t[encodeFragmentIdentifier]: true,\n\t\t...options,\n\t};\n\n\tconst url = removeHash(object.url).split('?')[0] || '';\n\tconst queryFromUrl = extract(object.url);\n\n\tconst query = {\n\t\t...parse(queryFromUrl, {sort: false}),\n\t\t...object.query,\n\t};\n\n\tlet queryString = stringify(query, options);\n\tif (queryString) {\n\t\tqueryString = `?${queryString}`;\n\t}\n\n\tlet hash = getHash(object.url);\n\tif (object.fragmentIdentifier) {\n\t\tconst urlObjectForFragmentEncode = new URL(url);\n\t\turlObjectForFragmentEncode.hash = object.fragmentIdentifier;\n\t\thash = options[encodeFragmentIdentifier] ? urlObjectForFragmentEncode.hash : `#${object.fragmentIdentifier}`;\n\t}\n\n\treturn `${url}${queryString}${hash}`;\n}\n\nexport function pick(input, filter, options) {\n\toptions = {\n\t\tparseFragmentIdentifier: true,\n\t\t[encodeFragmentIdentifier]: false,\n\t\t...options,\n\t};\n\n\tconst {url, query, fragmentIdentifier} = parseUrl(input, options);\n\n\treturn stringifyUrl({\n\t\turl,\n\t\tquery: includeKeys(query, filter),\n\t\tfragmentIdentifier,\n\t}, options);\n}\n\nexport function exclude(input, filter, options) {\n\tconst exclusionFilter = Array.isArray(filter) ? key => !filter.includes(key) : (key, value) => !filter(key, value);\n\n\treturn pick(input, exclusionFilter, options);\n}\n","import {nextTick, reactive} from 'vue'\r\nimport axios from 'axios'\r\nimport LoadState from './LoadState'\r\nimport qs from 'query-string'\r\nimport useFormErrors from './useFormErrors'\r\n\r\nlet cancelTokenSource = null\r\n\r\nexport default class Listing {\r\n    cancelTokenSource = null\r\n\r\n    api = null\r\n\r\n    baseUrl = null\r\n\r\n    structure = null\r\n\r\n    options = null\r\n\r\n    errors = null\r\n\r\n    errorBag = 'listing'\r\n\r\n    globalCancel = true\r\n\r\n    attributes = reactive({\r\n        query: {\r\n            items: [],\r\n            showing: 0,\r\n            perPage: 0,\r\n            total: 0\r\n        },\r\n        params: {\r\n            page: 1\r\n        },\r\n        state: {\r\n            list: null,\r\n            filter: null\r\n        }\r\n    })\r\n\r\n    constructor() {\r\n        return new Proxy(this, {\r\n            get(target, name, receiver) {\r\n                // Check if the property exists in the instance\r\n                if (Reflect.has(target, name)) {\r\n                    return Reflect.get(target, name, receiver)\r\n                }\r\n                // If not, attempt to access it from the 'form' object\r\n                if (Reflect.has(target.attributes, name)) {\r\n                    const path = name.split('.')\r\n                    if (path.length > 1) {\r\n                        // handle nested properties\r\n                        let value = target.attributes\r\n\r\n                        for (let i = 0; i < path.length; i++) {\r\n                            value = value[path[i]]\r\n                        }\r\n\r\n                        if (value === undefined || value === null) {\r\n                            return undefined\r\n                        }\r\n\r\n                        return value\r\n                    }\r\n\r\n                    return Reflect.get(target.attributes, name)\r\n                }\r\n                return undefined\r\n            },\r\n            set(target, name, value, receiver) {\r\n                // Check if the property exists in the instance\r\n                if (Reflect.has(target, name)) {\r\n                    return Reflect.set(target, name, value, receiver)\r\n                }\r\n                // If not, attempt to set it in the 'form' object\r\n                if (Reflect.has(target.attributes, name)) {\r\n                    const path = name.split('.')\r\n\r\n                    if (path.length > 1) {\r\n                        let obj = target.form\r\n\r\n                        for (let i = 0; i < path.length - 1; i++) {\r\n                            if (!(path[i] in obj)) {\r\n                                obj[path[i]] = {}\r\n                            }\r\n                            obj = obj[path[i]]\r\n                        }\r\n\r\n                        if (obj[path[path.length - 1]] === undefined) {\r\n                            return false\r\n                        }\r\n\r\n                        obj[path[path.length - 1]] = value\r\n\r\n                        return true\r\n                    }\r\n\r\n                    return Reflect.set(target.attributes, name, value)\r\n                }\r\n\r\n                return false\r\n            }\r\n        })\r\n    }\r\n\r\n    get config() {\r\n        return {\r\n            data: this.attributes.query.items,\r\n            total: this.attributes.query.total,\r\n            currentPage: this.attributes.params.page,\r\n            perPage: this.attributes.query.perPage,\r\n            loading: this.isLoading,\r\n            paginated: true,\r\n            backendPagination: true,\r\n            striped: true\r\n        }\r\n    }\r\n\r\n    get events() {\r\n        return {\r\n            pageChange: ($event) => this.onPageChange($event)\r\n        }\r\n    }\r\n\r\n    get isFilterActive() {\r\n        return this.attributes.state.filter\r\n    }\r\n\r\n    get isEmpty() {\r\n        return this.isLoaded && this.attributes.query.items.length === 0\r\n    }\r\n\r\n    get isDirty() {\r\n        return JSON.stringify(this.structure) !== JSON.stringify(this.attributes.params)\r\n    }\r\n\r\n    get isSearchEmpty() {\r\n        return this.isLoaded && this.isDirty && this.attributes.query.items.length === 0\r\n    }\r\n\r\n    get isResettable() {\r\n        return JSON.stringify(this.attributes.params) !== JSON.stringify(this.structure)\r\n    }\r\n\r\n    get isLoaded() {\r\n        return this.attributes.state.list === 'loaded'\r\n    }\r\n\r\n    get isLoading() {\r\n        return this.attributes.state.list === 'loading'\r\n    }\r\n\r\n    get isFailure() {\r\n        return this.attributes.state.list === 'failed'\r\n    }\r\n\r\n    static create(params = {}, options = {}) {\r\n        const instance = new Listing()\r\n\r\n        instance.errors = useFormErrors()\r\n        instance.errors.createBag(instance.errorBag)\r\n\r\n        instance.options = Object.assign(\r\n            {\r\n                enableSearchUpdate: true,\r\n                transformItem: (item) => item\r\n            },\r\n            options\r\n        )\r\n\r\n        instance.setParameters(params)\r\n\r\n        if (instance.options.enableSearchUpdate) {\r\n            instance.mergeSearch()\r\n        }\r\n\r\n        instance.baseUrl = options.baseUrl\r\n\r\n        // instance.api = axios.create(options.axios || {})\r\n\r\n        return instance\r\n    }\r\n\r\n    setUrl(url) {\r\n        this.baseUrl = url\r\n\r\n        return this\r\n    }\r\n\r\n    setParameters(params) {\r\n        const structure = JSON.parse(JSON.stringify(params))\r\n\r\n        this.structure = Object.assign({}, structure)\r\n\r\n        this.attributes.params = reactive(params)\r\n    }\r\n\r\n    mergeSearch() {\r\n        const query = qs.parse(window.location.search, {\r\n            arrayFormat: 'bracket',\r\n            parseNumbers: true\r\n        })\r\n\r\n        // convert page to number if it's defined\r\n        if (query.page) {\r\n            query.page = Number(query.page)\r\n        }\r\n\r\n        Object.assign(this.attributes.params, this.structure, query)\r\n    }\r\n\r\n    // Retrieves the list without affecting the load state.\r\n    async fetch(path, cancelToken) {\r\n        const params = JSON.parse(JSON.stringify(this.attributes.params))\r\n\r\n        const url = path || this.baseUrl\r\n\r\n        const {data} = await axios.get(url, {\r\n            params,\r\n            cancelToken\r\n        })\r\n\r\n        return data\r\n\r\n        // this.loading()\r\n        //\r\n        // const params = JSON.parse(JSON.stringify(this.attributes.params))\r\n        //\r\n        // const url = path || this.baseUrl\r\n        //\r\n        // try {\r\n        //     const {data} = await axios.get(url, {\r\n        //         params,\r\n        //         cancelToken\r\n        //     })\r\n        //\r\n        //     this.loaded()\r\n        //\r\n        //     if (this.options.enableSearchUpdate) {\r\n        //         this.refreshUrl()\r\n        //     }\r\n        //\r\n        //     return data\r\n        // } catch (error) {\r\n        //     this.failed()\r\n        // }\r\n    }\r\n\r\n    async reload(path) {\r\n        const {data} = await axios.get(path || this.baseUrl, {\r\n            params: JSON.parse(JSON.stringify(this.attributes.params))\r\n        })\r\n\r\n        Object.assign(this.attributes.query, data.query, {\r\n            items: data.query.items.map((item) => this.transformItem(item))\r\n        })\r\n\r\n        return data\r\n    }\r\n\r\n    refreshUrl() {\r\n        const base = window.location.href.replace(/\\?.*/, '')\r\n\r\n        const params = JSON.parse(JSON.stringify(this.attributes.params))\r\n\r\n        // Filter out null and undefined parameters\r\n        const filteredParams = Object.fromEntries(\r\n            Object.entries(params).filter(([_, v]) => v != null)\r\n        )\r\n\r\n        const url =\r\n            base + '?' + qs.stringify(filteredParams, {arrayFormat: 'bracket'})\r\n\r\n        window.history.pushState({}, '', url)\r\n    }\r\n\r\n    push(item) {\r\n        this.attributes.query.items.push(this.transformItem(item))\r\n    }\r\n\r\n    transformItem(item) {\r\n        return this.options.transformItem({\r\n            ...item,\r\n            states: {\r\n                delete: new LoadState(),\r\n                patch: new LoadState()\r\n            }\r\n        })\r\n    }\r\n\r\n    async load(path) {\r\n        this.errors.clear(null, this.errorBag)\r\n\r\n        if (this.globalCancel) {\r\n            if (cancelTokenSource) {\r\n                cancelTokenSource.cancel()\r\n            }\r\n\r\n            cancelTokenSource = axios.CancelToken.source()\r\n        } else {\r\n            // if a request is ongoing, cancel it\r\n            if (this.cancelTokenSource) {\r\n                this.cancelTokenSource.cancel()\r\n            }\r\n\r\n            // create a new CancelToken\r\n            this.cancelTokenSource = axios.CancelToken.source()\r\n        }\r\n\r\n\r\n        this.loading()\r\n\r\n        this.attributes.query.items = []\r\n\r\n        this.attributes.query.total = 0\r\n\r\n        this.attributes.query.showing = 0\r\n\r\n        let data = null\r\n\r\n        try {\r\n            const params = JSON.parse(JSON.stringify(this.attributes.params))\r\n\r\n            const url = path || this.baseUrl\r\n\r\n            const response = await axios\r\n                .get(url, {\r\n                    params,\r\n                    cancelToken: this.globalCancel ? cancelTokenSource.token : this.cancelTokenSource.token\r\n                })\r\n                .catch((error) => {\r\n                    this.failed()\r\n\r\n                    throw error\r\n                })\r\n\r\n            data = response.data\r\n\r\n            if (!data || !data.query || !data.query.items) {\r\n                this.failed()\r\n\r\n                throw Error('Response format is invalid.')\r\n            }\r\n\r\n            this.loaded()\r\n\r\n            Object.assign(this.attributes.query, data.query, {\r\n                items: data.query.items.map((item) => this.transformItem(item))\r\n            })\r\n\r\n            return data\r\n        } catch (error) {\r\n            if (axios.isCancel(error)) {\r\n                this.loaded()\r\n                console.error('Request cancelled')\r\n            } else {\r\n                this.failed()\r\n                this.errors.set(error, this.errorBag)\r\n                throw error\r\n            }\r\n        }\r\n    }\r\n\r\n    onPageChange(value) {\r\n        this.attributes.params.page = value\r\n\r\n        return this.load()\r\n    }\r\n\r\n    async patch({path, props, payload} = {}) {\r\n        const {row} = props\r\n\r\n        payload = {\r\n            id: row.id,\r\n            ...payload\r\n        }\r\n\r\n        const {data} = await axios\r\n            .patch(path || this.baseUrl, payload)\r\n            .catch((error) => {\r\n                throw error\r\n            })\r\n\r\n        if (data.patch) {\r\n            Object.assign(row, data.patch)\r\n        }\r\n\r\n        const fetch = await this.fetch()\r\n\r\n        if (!fetch.query.items.length) {\r\n            this.attributes.params.page--\r\n\r\n            await this.load()\r\n\r\n            return data\r\n        }\r\n\r\n        // filter items to remove\r\n\r\n        // filter items to add\r\n\r\n        return data\r\n    }\r\n\r\n    async destroy(path, {\r\n        props,\r\n        data,\r\n        config,\r\n        method = 'delete'\r\n    }) {\r\n        let response\r\n\r\n        const {index, row} = props\r\n\r\n        row.isProcessing = true\r\n\r\n        if (method === 'delete') {\r\n            response = await axios.delete(path, config)\r\n        } else if (method === 'post') {\r\n            response = await axios.post(path, data, config)\r\n        }\r\n\r\n        const refresh = await this.fetch()\r\n\r\n        const isStillValid = refresh.query.items.find(item => item.id === row.id);\r\n\r\n        if (isStillValid) {\r\n            row.isProcessing = false\r\n\r\n            return response.data\r\n        }\r\n\r\n        // Remove the item using the index if it's not found in the refreshed data\r\n        this.attributes.query.items.splice(index, 1);\r\n\r\n        // Logic to add missing items from the refreshed data to the list\r\n        const currentIds = this.attributes.query.items.map(item => item.id);\r\n        const missingItems = refresh.query.items.filter(item => !currentIds.includes(item.id));\r\n\r\n        missingItems.forEach(item => this.attributes.query.items.push(item));\r\n\r\n        return response.data;\r\n    }\r\n\r\n    async update(path, {\r\n        props,\r\n        data,\r\n        config,\r\n        method = 'patch'\r\n    }) {\r\n        let response\r\n\r\n        const {index, row} = props\r\n\r\n        row.isProcessing = true\r\n\r\n        if (method === 'patch') {\r\n            response = await axios.patch(path, config)\r\n        } else if (method === 'post') {\r\n            response = await axios.post(path, data, config)\r\n        }\r\n\r\n        const refresh = await this.fetch()\r\n\r\n        const isStillValid = refresh.query.items.find(item => item.id === row.id);\r\n\r\n        if (isStillValid) {\r\n            row.isProcessing = false\r\n\r\n            Object.assign(row, isStillValid)\r\n\r\n            return response.data\r\n        }\r\n\r\n        // Remove the item using the index if it's not found in the refreshed data\r\n        this.attributes.query.items.splice(index, 1);\r\n\r\n        // Logic to add missing items from the refreshed data to the list\r\n        const currentIds = this.attributes.query.items.map(item => item.id);\r\n        const missingItems = refresh.query.items.filter(item => !currentIds.includes(item.id));\r\n\r\n        missingItems.forEach(item => this.attributes.query.items.push(item));\r\n\r\n        return response.data;\r\n    }\r\n\r\n    async delete(options) {\r\n        return this.processRowAndRefreshList({\r\n            ...options,\r\n            method: 'delete',\r\n            state: 'delete'\r\n        })\r\n    }\r\n\r\n    async restore(options) {\r\n        return this.processRowAndRefreshList({\r\n            ...options,\r\n            method: 'patch',\r\n            state: 'restore'\r\n        })\r\n    }\r\n\r\n    async processRowAndRefreshList({path, props, payload, state, method} = {}) {\r\n        const {row, index} = props\r\n\r\n        payload = {\r\n            id: row.id,\r\n            ...payload\r\n        }\r\n\r\n        let rowState = row.states[state]\r\n\r\n        if (!rowState) {\r\n            rowState = row.states[state] = LoadState.create()\r\n        }\r\n\r\n        rowState.loading()\r\n\r\n        const {data} = await axios[method](\r\n            path || this.baseUrl,\r\n            payload\r\n        ).catch((error) => {\r\n            rowState.failed()\r\n\r\n            throw error\r\n        })\r\n\r\n        rowState.loaded()\r\n\r\n        if (data.row) {\r\n            Object.assign(row, data.row)\r\n        }\r\n\r\n        const fetch = await this.fetch()\r\n\r\n        this.attributes.query.items.splice(index, 1)\r\n\r\n        if (!fetch.query.items.length) {\r\n            this.attributes.params.page--\r\n\r\n            await this.load()\r\n\r\n            return data\r\n        }\r\n\r\n        if (this.attributes.query.items.length < fetch.query.items.length) {\r\n            const item = fetch.query.items[fetch.query.items.length - 1]\r\n\r\n            this.push(item)\r\n        }\r\n\r\n        return data\r\n    }\r\n\r\n    async applyFilter() {\r\n        this.errors.clear(null, this.errorBag)\r\n\r\n        // if a request is ongoing, cancel it\r\n        if (this.cancelTokenSource) {\r\n            this.cancelTokenSource.cancel()\r\n        }\r\n\r\n        this.loading()\r\n\r\n        // create a new CancelToken\r\n        this.cancelTokenSource = axios.CancelToken.source()\r\n\r\n        this.attributes.query.items = []\r\n\r\n        this.attributes.params.page = 1\r\n\r\n        this.attributes.query.total = 0\r\n\r\n        this.attributes.query.showing = 0\r\n\r\n        let data = null\r\n\r\n        try {\r\n            const params = JSON.parse(JSON.stringify(this.attributes.params))\r\n\r\n            const url = this.baseUrl\r\n\r\n            const response = await axios\r\n                .get(url, {\r\n                    params,\r\n                    cancelToken: this.cancelTokenSource.token\r\n                })\r\n                .catch((error) => {\r\n                    this.failed()\r\n\r\n                    throw error\r\n                })\r\n\r\n            data = response.data\r\n        } catch (error) {\r\n            if (axios.isCancel(error)) {\r\n                console.error('Request cancelled')\r\n                return // early return if request is cancelled\r\n            } else {\r\n                this.failed()\r\n                this.errors.set(error, this.errorBag)\r\n                throw error\r\n            }\r\n        }\r\n\r\n        this.refreshUrl()\r\n\r\n        if (!data || !data.query || !data.query.items) {\r\n            this.failed()\r\n\r\n            throw Error('Response format is invalid.')\r\n        }\r\n\r\n        Object.assign(this.attributes.query, data.query, {\r\n            items: data.query.items.map((item) => this.transformItem(item))\r\n        })\r\n\r\n        await nextTick()\r\n\r\n        this.loaded()\r\n\r\n        this.hideFilter()\r\n    }\r\n\r\n    showFilter() {\r\n        this.attributes.state.filter = true\r\n    }\r\n\r\n    hideFilter() {\r\n        this.attributes.state.filter = false\r\n    }\r\n\r\n    cancelFilter() {\r\n        this.mergeSearch()\r\n\r\n        this.attributes.state.filter = false\r\n    }\r\n\r\n    resetFilter(url = null) {\r\n        Object.assign(this.attributes.params, this.structure)\r\n\r\n        this.refreshUrl()\r\n\r\n        this.attributes.state.filter = false\r\n\r\n        return this.load(url)\r\n    }\r\n\r\n    getError(key) {\r\n        return this.errors.get(key, this.errorBag)\r\n    }\r\n\r\n    clearError(key) {\r\n        this.errors.clear(key, this.errorBag)\r\n    }\r\n\r\n    loaded() {\r\n        this.attributes.state.list = 'loaded'\r\n    }\r\n\r\n    loading() {\r\n        this.attributes.state.list = 'loading'\r\n    }\r\n\r\n    failed() {\r\n        this.attributes.state.list = 'failed'\r\n    }\r\n}\r\n","<script>\r\nimport FormBuilder from '../utilities/FormBuilder'\r\nimport Listing from '../utilities/Listing.js'\r\n\r\nexport default {\r\n  name: 'WyxosForm',\r\n  props: {\r\n    form: {\r\n      type: FormBuilder,\r\n      required: true\r\n    },\r\n    submit: {\r\n      type: [Function, Promise],\r\n      default: null\r\n    },\r\n    listing: {\r\n      type: Listing,\r\n      default: null\r\n    },\r\n    reset: {\r\n      type: [Boolean, Function],\r\n      default: false\r\n    },\r\n    formClass: {\r\n      type: [String, Array, Object],\r\n      default: null\r\n    }\r\n  },\r\n  emits: ['submitted'],\r\n  methods: {\r\n    async handle() {\r\n      if (this.submit) {\r\n        await this.submit(this.form)\r\n      } else {\r\n        await this.form.submit()\r\n      }\r\n\r\n      if (this.reset) {\r\n        if (typeof this.reset === 'function') {\r\n          this.reset()\r\n        } else {\r\n          // Reset the entire form if reset is not a function\r\n          this.form.reset()\r\n        }\r\n      }\r\n\r\n      this.$emit('submitted')\r\n\r\n      if (this.listing) {\r\n        return this.listing.reload()\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <form v-if=\"form.isLoaded\" :class=\"formClass\" @submit.prevent=\"handle()\">\r\n    <slot></slot>\r\n  </form>\r\n  <o-loading v-else-if=\"form.isLoading\" :active=\"true\"></o-loading>\r\n  <o-button v-else-if=\"form.isFailure\" @click=\"form.load()\">\r\n    Error. Retry or refresh.\r\n  </o-button>\r\n</template>\r\n","<script>\r\nexport default {\r\n  name: 'WyxosImage',\r\n  props: {\r\n    src: {\r\n      type: [File, String],\r\n      required: true\r\n    },\r\n    resize: {\r\n      type: Object,\r\n      default: null\r\n    }\r\n  },\r\n  emits: ['loaded'],\r\n  data() {\r\n    return {\r\n      instance: null,\r\n      width: 0,\r\n      height: 0\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadImage()\r\n  },\r\n  unmounted() {\r\n    this.instance.onload = null\r\n  },\r\n  methods: {\r\n    loadImage() {\r\n      if (typeof this.src === 'object') {\r\n        return this.loadFile()\r\n      }\r\n\r\n      return this.loadPath()\r\n    },\r\n    loadFile() {\r\n      this.instance = new FileReader()\r\n\r\n      this.instance.onload = (event) => {\r\n        const image = event.target.result\r\n\r\n        this.$refs.image.src = image\r\n\r\n        this.width = this.resize ? this.resize.width : image.width\r\n\r\n        this.height = this.resize ? this.resize.height : image.height\r\n\r\n        this.$emit('loaded')\r\n      }\r\n\r\n      this.instance.readAsDataURL(this.src)\r\n    },\r\n    loadPath() {\r\n      this.instance = new Image()\r\n\r\n      this.instance.onload = () => {\r\n        this.$refs.image.src = this.src\r\n\r\n        this.width = this.resize ? this.resize.width : this.instance.width\r\n\r\n        this.height = this.resize ? this.resize.height : this.instance.height\r\n\r\n        this.$emit('loaded')\r\n      }\r\n\r\n      this.instance.src = this.src\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <img ref=\"image\" src=\"\" alt=\"\" :width=\"width\" :height=\"height\" />\r\n</template>\r\n","<script>\r\nimport useFormErrors from '../utilities/useFormErrors'\r\nimport FormBuilder from '../utilities/FormBuilder.js'\r\n\r\nexport default {\r\n  name: 'WyxosInput',\r\n  props: {\r\n    label: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    readonly: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    name: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    bag: {\r\n      type: String,\r\n      default: () => {\r\n        return 'default'\r\n      }\r\n    },\r\n    type: {\r\n      type: String,\r\n      default: 'text'\r\n    },\r\n    clearable: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    fieldClass: {\r\n      type: String,\r\n      default: null\r\n    },\r\n    inputRootClass: {\r\n      type: String,\r\n      default: null\r\n    },\r\n    inputClass: {\r\n      type: String,\r\n      default: null\r\n    },\r\n    modelValue: {\r\n      type: [String, Number, null],\r\n      default: null\r\n    },\r\n    form: {\r\n      type: FormBuilder,\r\n      default: null\r\n    },\r\n    disabled: {\r\n      type: [Boolean, String],\r\n      default: null\r\n    },\r\n    placeholder: {\r\n      type: String,\r\n      default: null\r\n    },\r\n    passwordReveal: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  emits: ['update:modelValue'],\r\n  setup() {\r\n    const errors = useFormErrors()\r\n\r\n    return {\r\n      errors\r\n    }\r\n  },\r\n  computed: {\r\n    getError() {\r\n      if (!this.name) {\r\n        return\r\n      }\r\n\r\n      if (this.form) {\r\n        return this.form.getError(this.name)\r\n      }\r\n\r\n      return this.errors.get(this.name, this.bag)\r\n    }\r\n  },\r\n  methods: {\r\n    onInput(value) {\r\n      // Clearing the error if form object exists, else clear using errors helper.\r\n      if (this.form) {\r\n        this.form.clearError(this.name)\r\n      } else {\r\n        this.errors.clear(this.name, this.bag)\r\n      }\r\n\r\n      // Emitting the new value to the parent.\r\n      // This is all you need to update the parent's state.\r\n      this.$emit('update:modelValue', value)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<template>\r\n  <o-field :label=\"label\" :class=\"fieldClass\" v-bind=\"getError\">\r\n    <o-input\r\n      :readonly=\"readonly\"\r\n      :class=\"inputClass\"\r\n      :root-class=\"inputRootClass\"\r\n      :name=\"name\"\r\n      :type=\"type\"\r\n      :clearable=\"clearable\"\r\n      :disabled=\"disabled\"\r\n      :model-value=\"modelValue\"\r\n      :placeholder=\"placeholder\"\r\n      :password-reveal=\"passwordReveal\"\r\n      @update:model-value=\"onInput($event)\"></o-input>\r\n  </o-field>\r\n</template>\r\n","<script>\r\nimport Listing from '../utilities/Listing.js'\r\n\r\nexport default {\r\n  name: 'WyxosListing',\r\n  props: {\r\n    listing: {\r\n      type: Listing,\r\n      required: true\r\n    }\r\n  },\r\n  computed: {\r\n    allPropsAndEvents() {\r\n      return {\r\n        ...this.listing.config,\r\n        ...Object.keys(this.listing.events).reduce((acc, eventName) => {\r\n          acc[`on${eventName.charAt(0).toUpperCase() + eventName.slice(1)}`] =\r\n            this.listing.events[eventName]\r\n          return acc\r\n        }, {})\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <o-table v-bind=\"allPropsAndEvents\">\r\n    <template v-for=\"(_, slot) in $slots\" #[slot]=\"slotData\">\r\n      <slot :name=\"slot\" v-bind=\"slotData\"></slot>\r\n    </template>\r\n    <template #empty>\r\n      <p v-if=\"listing.isEmpty\">No records found.</p>\r\n      <p v-if=\"listing.isSearchEmpty\">\r\n        No results for your query. Please adjust your search and try again.\r\n      </p>\r\n      <p v-if=\"listing.isFailure\">\r\n        Failure to load the list. Try again or reload the page.\r\n      </p>\r\n    </template>\r\n  </o-table>\r\n</template>\r\n","<script>\r\nimport useFormErrors from '../utilities/useFormErrors'\r\nimport FormBuilder from '../utilities/FormBuilder.js'\r\n\r\nexport default {\r\n  name: 'WyxosLiveInput',\r\n  props: {\r\n    label: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    readonly: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    name: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    bag: {\r\n      type: String,\r\n      default: () => {\r\n        return 'default'\r\n      }\r\n    },\r\n    type: {\r\n      type: String,\r\n      default: 'text'\r\n    },\r\n    clearable: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    fieldClass: {\r\n      type: String,\r\n      default: null\r\n    },\r\n    inputRootClass: {\r\n      type: String,\r\n      default: null\r\n    },\r\n    inputClass: {\r\n      type: String,\r\n      default: null\r\n    },\r\n    modelValue: {\r\n      type: [String, Number, null],\r\n      default: null\r\n    },\r\n    form: {\r\n      type: FormBuilder,\r\n      default: null\r\n    },\r\n    disabled: {\r\n      type: [Boolean, String],\r\n      default: null\r\n    },\r\n    placeholder: {\r\n      type: String,\r\n      default: null\r\n    }\r\n  },\r\n  emits: ['update:modelValue'],\r\n  setup() {\r\n    const errors = useFormErrors()\r\n\r\n    return {\r\n      errors\r\n    }\r\n  },\r\n  methods: {\r\n    onInput(value) {\r\n      if (!this.name) {\r\n        this.$emit('update:modelValue', value)\r\n\r\n        return\r\n      }\r\n\r\n      if (this.form) {\r\n        this.form.clearError(this.name)\r\n\r\n        return this.form.submit(null, {\r\n          formatter: () => ({ field: this.name, value })\r\n        })\r\n      }\r\n\r\n      this.errors.clear(this.name, this.bag)\r\n\r\n      this.$emit('update:modelValue', value)\r\n    },\r\n    getError() {\r\n      if (!this.name) {\r\n        return\r\n      }\r\n\r\n      if (this.form) {\r\n        return this.form.getError(this.name)\r\n      }\r\n\r\n      return this.errors.get(this.name)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<template>\r\n  <o-field :label=\"label\" :class=\"fieldClass\" v-bind=\"{ ...getError() }\">\r\n    <o-input\r\n      :readonly=\"readonly\"\r\n      :class=\"inputClass\"\r\n      :root-class=\"inputRootClass\"\r\n      :name=\"name\"\r\n      :type=\"type\"\r\n      :clearable=\"clearable\"\r\n      :disabled=\"disabled\"\r\n      :model-value=\"modelValue\"\r\n      :placeholder=\"placeholder\"\r\n      @update:model-value=\"onInput($event)\"></o-input>\r\n  </o-field>\r\n</template>\r\n","<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'WyxosLogout',\r\n  props: {\r\n    path: {\r\n      type: String,\r\n      default: '/logout'\r\n    }\r\n  },\r\n  methods: {\r\n    async logout() {\r\n      const { data } = await axios.post(this.path).catch((error) => {\r\n        if (error.response.status === 401) {\r\n          window.location.href = '/'\r\n        }\r\n\r\n        throw error\r\n      })\r\n\r\n      window.location.href = data?.redirect || '/'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <slot :logout=\"logout\">\r\n    <button class=\"button is-primary\" @click=\"logout()\">Sign out</button>\r\n  </slot>\r\n</template>\r\n","<script>\r\nimport { defineComponent } from 'vue'\r\nexport default defineComponent({\r\n  name: 'WyxosProgress',\r\n  props: {\r\n    showValue: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    value: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    max: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    format: {\r\n      type: String,\r\n      default: 'percent'\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<template>\r\n  <progress :value=\"value\" :max=\"max\"></progress\r\n  ><span v-if=\"showValue\">{{ value }} / {{ max }}</span>\r\n</template>\r\n","<script>\r\nimport LoadState from '../utilities/LoadState'\r\n\r\nexport default {\r\n  name: 'WyxosPrompt',\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: null\r\n    },\r\n    message: {\r\n      type: String,\r\n      default: null\r\n    },\r\n    confirmText: {\r\n      type: String,\r\n      default: null\r\n    },\r\n    cancelText: {\r\n      type: String,\r\n      default: null\r\n    },\r\n    loading: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    callback: {\r\n      type: Function,\r\n      default: null\r\n    }\r\n  },\r\n  emits: ['close'],\r\n  setup() {\r\n    return {\r\n      state: new LoadState()\r\n    }\r\n  },\r\n  methods: {\r\n    async proceed() {\r\n      if (this.callback) {\r\n        this.state.loading()\r\n\r\n        await this.callback().catch((error) => {\r\n          this.state.failed()\r\n\r\n          throw error\r\n        })\r\n\r\n        this.state.loaded()\r\n      }\r\n\r\n      this.$emit('close', { action: true })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <o-modal :active=\"true\" @blur=\"$emit('close', { action: false })\">\r\n    <h2>{{ title }}</h2>\r\n    <p>{{ message }}</p>\r\n    <div class=\"flex gap-6\">\r\n      <wyxos-button\r\n        :disabled=\"state.isLoading\"\r\n        class=\"button is-danger\"\r\n        native-type=\"button\"\r\n        @click=\"$emit('close', { action: false })\">\r\n        {{ cancelText }}\r\n      </wyxos-button>\r\n      <wyxos-button\r\n        :loading=\"state.isLoading\"\r\n        class=\"button\"\r\n        native-type=\"button\"\r\n        @click=\"proceed()\"\r\n        >{{ confirmText }}\r\n      </wyxos-button>\r\n    </div>\r\n  </o-modal>\r\n</template>\r\n","<script>\r\nimport Listing from '../utilities/Listing.js'\r\nimport FormBuilder from '../utilities/FormBuilder.js'\r\n\r\nexport default {\r\n  name: 'WyxosRemove',\r\n  props: {\r\n    listing: {\r\n      type: Listing,\r\n      default: null\r\n    },\r\n    route: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  emits: ['removed', 'failed'],\r\n  setup() {\r\n    return {\r\n      destroy: FormBuilder.create()\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isVisible: false\r\n    }\r\n  },\r\n  methods: {\r\n    async onRemove() {\r\n      this.isVisible = true\r\n    },\r\n    remove() {\r\n      // execute axios.delete pointing to the route received from props\r\n      this.destroy\r\n          .delete(this.route)\r\n          .then(() => {\r\n            this.$emit('removed')\r\n\r\n            if (this.listing) {\r\n              this.listing.reload()\r\n            }\r\n\r\n            this.isVisible = false\r\n          })\r\n          .catch(() => {\r\n            this.$emit('failed')\r\n          })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <w-button class=\"button is-danger\" @click=\"onRemove()\">\r\n    <slot name=\"button\"><i class=\"fas fa-trash\"></i></slot>\r\n    <teleport v-if=\"isVisible\" to=\"body\">\r\n      <o-modal v-model:active=\"isVisible\">\r\n        <div class=\"content p-6\">\r\n          <slot name=\"title\"><h3 class=\"title\">Delete</h3></slot>\r\n          <slot name=\"message\"\r\n          ><p class=\"mb-4\">\r\n            Are you sure you want to delete this record?\r\n          </p></slot\r\n          >\r\n          <div class=\"buttons flex gap-6 justify-end\">\r\n            <o-button class=\"button is-secondary\" @click=\"isVisible = false\"\r\n            >Cancel\r\n            </o-button\r\n            >\r\n            <w-button\r\n                :loading=\"destroy.isSubmitting\"\r\n                class=\"button is-danger\"\r\n                @click=\"remove()\">\r\n              <slot name=\"confirm\">Confirm</slot>\r\n            </w-button>\r\n          </div>\r\n        </div>\r\n      </o-modal>\r\n    </teleport>\r\n  </w-button>\r\n</template>\r\n","<script>\r\nimport FormBuilder from '../utilities/FormBuilder'\r\n\r\nexport default {\r\n  name: 'WyxosSelect',\r\n  props: {\r\n    label: {\r\n      type: String,\r\n      default: null\r\n    },\r\n    placeholder: {\r\n      type: String,\r\n      default: null\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: null\r\n    },\r\n    name: {\r\n      type: String,\r\n      default: null\r\n    },\r\n    modelValue: {\r\n      type: [null, String, Number],\r\n      required: true\r\n    },\r\n    form: {\r\n      type: FormBuilder,\r\n      default: null\r\n    },\r\n    items: {\r\n      type: Array,\r\n      default: null\r\n    }\r\n  },\r\n  emits: ['update:modelValue'],\r\n  methods: {\r\n    updateValue(value) {\r\n      this.form?.clearError(this.name)\r\n      this.$emit('update:modelValue', value)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<template>\r\n  <o-field :label=\"label\" v-bind=\"form?.getError(name)\">\r\n    <o-select\r\n      :disabled=\"disabled\"\r\n      :model-value=\"modelValue\"\r\n      :name=\"name\"\r\n      :placeholder=\"placeholder\"\r\n      root-class=\"w-full\"\r\n      select-class=\"w-full\"\r\n      @update:model-value=\"updateValue($event)\">\r\n      <slot>\r\n        <template v-if=\"items\">\r\n          <option v-for=\"item in items\" :key=\"item.value\" :value=\"item.value\">\r\n            {{ item.label }}\r\n          </option>\r\n        </template>\r\n      </slot>\r\n    </o-select>\r\n  </o-field>\r\n</template>\r\n","<script>\r\nimport FormBuilder from '../utilities/FormBuilder.js'\r\n\r\nexport default {\r\n  name: 'WyxosSessionExpired',\r\n  emits: ['close'],\r\n  setup() {\r\n    const login = FormBuilder.create({\r\n      email: null,\r\n      password: null\r\n    })\r\n\r\n    return {\r\n      login\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      user: null,\r\n      propertiesCount: 0,\r\n      organisations: []\r\n    }\r\n  },\r\n  methods: {\r\n    async proceed() {\r\n      await this.login.submit('/login')\r\n\r\n      this.$emit('close', { action: true })\r\n    },\r\n    onLogout() {\r\n      window.location.href = '/'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <o-modal :active=\"true\">\r\n    <div class=\"bg-white p-6\">\r\n      <h2 class=\"title\">Session Expired</h2>\r\n      <p class=\"mb-6\">\r\n        It looks like you've been away for a bit. For your security, please\r\n        re-enter your credentials to continue.\r\n      </p>\r\n      <form @submit.prevent=\"proceed\">\r\n        <wyxos-input\r\n          v-model=\"login.email\"\r\n          name=\"email\"\r\n          label=\"Email\"></wyxos-input>\r\n        <wyxos-input\r\n          v-model=\"login.password\"\r\n          name=\"password\"\r\n          label=\"Password\"\r\n          type=\"password\"></wyxos-input>\r\n        <div class=\"buttons\">\r\n          <w-button\r\n            class=\"button is-danger\"\r\n            :disabled=\"login.isSubmitting\"\r\n            @click=\"onLogout()\">\r\n            Logout\r\n          </w-button>\r\n          <w-button\r\n            class=\"button is-primary\"\r\n            native-type=\"submit\"\r\n            :loading=\"login.isSubmitting\">\r\n            Login\r\n          </w-button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </o-modal>\r\n</template>\r\n","<script>\r\nimport FormBuilder from '../utilities/FormBuilder.js'\r\n\r\nexport default {\r\n  name: 'WyxosSubmit',\r\n  props: {\r\n    form: {\r\n      type: FormBuilder,\r\n      required: true\r\n    },\r\n    labels: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          submit: 'Submit',\r\n          submitting: 'Processing',\r\n          submitted: 'Complete',\r\n          failed: 'Retry'\r\n        }\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      mergedLabels: {\r\n        submit: 'Submit',\r\n        submitting: 'Processing',\r\n        submitted: 'Complete',\r\n        failed: 'Retry'\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    labels: {\r\n      deep: true,\r\n      handler(newVal) {\r\n        this.mergedLabels = { ...this.mergedLabels, ...newVal }\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.mergedLabels = { ...this.mergedLabels, ...this.labels }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <o-button\r\n    :disabled=\"Boolean(form.isSubmitting || form.isSubmitted)\"\r\n    native-type=\"submit\">\r\n    <span\r\n      v-if=\"!form.isSubmitted && !form.isSubmitting && !form.isSubmitFailed\"\r\n      >{{ mergedLabels.submit }}</span\r\n    >\r\n    <span v-if=\"form.isSubmitting\"\r\n      >{{ mergedLabels.submitting }} <i class=\"fas fa-spinner fa-spin\"></i\r\n    ></span>\r\n    <span v-if=\"form.isSubmitted\">{{ mergedLabels.submitted }}</span>\r\n    <span v-if=\"form.isSubmitFailed\">{{ mergedLabels.failed }}</span>\r\n  </o-button>\r\n</template>\r\n","import { ref } from 'vue'\r\nimport axios from 'axios'\r\nimport LoadState from './LoadState'\r\n\r\nexport default class Search {\r\n  state = new LoadState()\r\n\r\n  result = ref([])\r\n\r\n  value = ref(null)\r\n\r\n  timeout = null\r\n\r\n  options = {\r\n    url: null,\r\n    payload: null,\r\n    field: null\r\n  }\r\n\r\n  constructor(options = {}) {\r\n    Object.assign(this.options, options)\r\n  }\r\n\r\n  get getConfig() {\r\n    return {\r\n      data: this.result.value,\r\n      field: this.options.field,\r\n      modelValue: this.value.value\r\n    }\r\n  }\r\n\r\n  static create(options) {\r\n    return new Search(options)\r\n  }\r\n\r\n  getEvents({ searchPayloadFormatter = null } = {}) {\r\n    return {\r\n      'update:model-value': ($event) => {\r\n        this.value.value = $event\r\n\r\n        return this.search(searchPayloadFormatter)\r\n      }\r\n    }\r\n  }\r\n\r\n  search(searchPayloadFormatter) {\r\n    const value = { value: this.value.value }\r\n\r\n    const payload = searchPayloadFormatter\r\n      ? searchPayloadFormatter(value)\r\n      : value\r\n\r\n    return this.customSearch({ payload })\r\n  }\r\n\r\n  async customSearch({ url, payload }) {\r\n    if (this.timeout) {\r\n      this.controller.abort()\r\n\r\n      clearTimeout(this.timeout)\r\n    }\r\n\r\n    this.controller = new AbortController()\r\n\r\n    this.timeout = setTimeout(async () => {\r\n      this.state.loading()\r\n\r\n      this.reset()\r\n\r\n      const base = url || this.options.url\r\n\r\n      const { data } = await axios\r\n        .post(`${base}/search`, payload || this.options.payload, {\r\n          signal: this.controller.signal\r\n        })\r\n        .catch((error) => {\r\n          this.state.failed()\r\n\r\n          throw error\r\n        })\r\n\r\n      this.result.value = data.result\r\n\r\n      this.state.loaded()\r\n    }, 500)\r\n  }\r\n\r\n  async restore(url, payload) {\r\n    this.state.loading()\r\n\r\n    this.reset()\r\n\r\n    const base = url || this.options.url\r\n\r\n    const { data } = await axios\r\n      .post(`${base}/restore`, payload || this.options.payload)\r\n      .catch((error) => {\r\n        this.state.failed()\r\n\r\n        throw error\r\n      })\r\n\r\n    this.state.loaded()\r\n\r\n    return data\r\n  }\r\n\r\n  reset() {\r\n    this.result.value = []\r\n  }\r\n}\r\n","<script>\r\nimport Search from '../utilities/Search'\r\n\r\nexport default {\r\n  name: 'WyxosTags',\r\n  props: {\r\n    path: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    modelValue: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    formatter: {\r\n      type: Function,\r\n      required: true\r\n    },\r\n    excludeFormatter: {\r\n      type: Function,\r\n      default: null\r\n    },\r\n    restoreFormatter: {\r\n      type: Function,\r\n      default: (payload) => payload\r\n    },\r\n    payloadFormatter: {\r\n      type: Function,\r\n      default: (payload) => payload\r\n    },\r\n    openOnFocus: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  emits: ['update:modelValue', 'update:query', 'change'],\r\n  setup() {\r\n    const search = Search.create()\r\n\r\n    return {\r\n      search\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      query: [],\r\n      isInternalChange: false\r\n    }\r\n  },\r\n  watch: {\r\n    modelValue: {\r\n      handler: async function (newVal, oldVal) {\r\n        if (this.isInternalChange) {\r\n          this.isInternalChange = false\r\n        } else if (JSON.stringify(newVal) !== JSON.stringify(oldVal)) {\r\n          this.restore()\r\n        }\r\n      },\r\n      deep: true,\r\n      immediate: false\r\n    }\r\n  },\r\n  async mounted() {\r\n    this.restore()\r\n  },\r\n  methods: {\r\n    async restore() {\r\n      if (this.modelValue && this.modelValue.length) {\r\n        this.isInternalChange = true\r\n\r\n        const { result } = await this.search.restore(\r\n          this.path,\r\n          this.restoreFormatter({\r\n            values: this.modelValue\r\n          })\r\n        )\r\n\r\n        this.query = result\r\n\r\n        this.$emit(\r\n          'update:modelValue',\r\n          this.query.map((value) => this.formatter(value))\r\n        )\r\n        this.$emit('update:query', this.query)\r\n      }\r\n    },\r\n    searchTags(value) {\r\n      return this.search.customSearch({\r\n        url: this.path,\r\n        payload: this.payloadFormatter({\r\n          value,\r\n          exclude: this.query\r\n            .map((item) => this.excludeFormatter(item))\r\n            .filter(Boolean)\r\n        })\r\n      })\r\n    },\r\n    addedTag() {\r\n      this.isInternalChange = true\r\n\r\n      const reformat = this.query.map((value) => this.formatter(value))\r\n\r\n      this.$emit('update:modelValue', reformat)\r\n\r\n      this.$emit('update:query', this.query)\r\n\r\n      this.$emit('change')\r\n    },\r\n    removedTag() {\r\n      this.isInternalChange = true\r\n\r\n      const reformat = this.query.map((value) => this.formatter(value))\r\n\r\n      this.$emit('update:modelValue', reformat)\r\n\r\n      this.$emit('update:query', this.query)\r\n\r\n      this.$emit('change')\r\n    },\r\n    reset() {\r\n      this.isInternalChange = true\r\n\r\n      this.query = []\r\n\r\n      this.$emit('update:modelValue', this.query)\r\n\r\n      this.$emit('update:query', this.query)\r\n    },\r\n    addItem() {\r\n      this.$refs.tagInput.addItem()\r\n    },\r\n    focus() {\r\n      console.log(this.openOnFocus)\r\n      if (this.openOnFocus) {\r\n        this.searchTags('')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<template>\r\n  <o-inputitems\r\n    ref=\"tagInput\"\r\n    v-model=\"query\"\r\n    :data=\"search.result.value\"\r\n    :open-on-focus=\"openOnFocus\"\r\n    allow-autocomplete\r\n    v-bind=\"$attrs\"\r\n    @add=\"addedTag($event)\"\r\n    @remove=\"removedTag($event)\"\r\n    @typing=\"searchTags($event)\"\r\n    @focus=\"searchTags('')\">\r\n  </o-inputitems>\r\n</template>\r\n","<script>\r\nexport default {\r\n  name: 'WyxosTokenExpired',\r\n  emits: ['close'],\r\n  methods: {\r\n    async proceed() {\r\n      this.$emit('close', { action: true })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <o-modal :active=\"true\">\r\n    <div class=\"bg-white p-6\">\r\n      <h2 class=\"title\">Session expired</h2>\r\n      <p class=\"mb-6\">\r\n        Your tab has been idle for a while. We've refreshed your session for\r\n        you. If you encountered an error after performing an action, please\r\n        close this prompt and try again.\r\n      </p>\r\n      <div class=\"buttons\">\r\n        <w-button\r\n          class=\"button is-primary\"\r\n          @click=\"$emit('close', { action: true })\">\r\n          Confirm\r\n        </w-button>\r\n      </div>\r\n    </div>\r\n  </o-modal>\r\n</template>\r\n","import axios from 'axios'\r\nimport { reactive } from 'vue'\r\nimport LoadState from './LoadState'\r\n\r\nclass Auth {\r\n  attributes = reactive({\r\n    user: null\r\n  })\r\n\r\n  state = new LoadState()\r\n\r\n  constructor() {\r\n    return new Proxy(this, {\r\n      get(target, name, receiver) {\r\n        if (!Reflect.has(target, name)) {\r\n          if (name in target.attributes) {\r\n            return target.attributes[name]\r\n          }\r\n\r\n          return null\r\n        }\r\n\r\n        return Reflect.get(target, name, receiver)\r\n      },\r\n      set(target, name, value, receiver) {\r\n        if (!Reflect.has(target, name) && !(name in target.attributes)) {\r\n          // Allow setting new properties on the target\r\n          Reflect.set(target, name, value, receiver)\r\n          return true\r\n        }\r\n        if (name in target.attributes) {\r\n          target.attributes[name] = value\r\n          return true\r\n        }\r\n        return Reflect.set(target, name, value, receiver)\r\n      }\r\n    })\r\n  }\r\n\r\n  get isLoading() {\r\n    return this.state.isLoading\r\n  }\r\n\r\n  get isLoaded() {\r\n    return this.state.isLoaded\r\n  }\r\n\r\n  get isFailure() {\r\n    return this.state.isFailure\r\n  }\r\n\r\n  get isAuthenticated() {\r\n    return Boolean(this.attributes.user)\r\n  }\r\n\r\n  async load() {\r\n    this.loading()\r\n\r\n    await axios.get('/sanctum/csrf-cookie').catch((error) => {\r\n      this.failed()\r\n\r\n      throw error\r\n    })\r\n\r\n    const { data } = await axios.get('/api/user')\r\n\r\n    if (!('user' in data)) {\r\n      throw Error('Instance of user is not defined.')\r\n    }\r\n\r\n    Object.keys(data).forEach((key) => {\r\n      this.attributes[key] = data[key]\r\n    })\r\n\r\n    this.loaded()\r\n  }\r\n\r\n  loading() {\r\n    return this.state.loading()\r\n  }\r\n\r\n  loaded() {\r\n    return this.state.loaded()\r\n  }\r\n\r\n  failed() {\r\n    return this.state.failed()\r\n  }\r\n\r\n  reset() {\r\n    this.attributes = reactive({\r\n      user: null\r\n    })\r\n\r\n    this.state.reset()\r\n  }\r\n}\r\n\r\nconst auth = new Auth()\r\n\r\nexport default auth\r\n","import { useProgrammatic } from '@oruga-ui/oruga-next'\r\nimport WyxosPrompt from '../components/WyxosPrompt.vue'\r\n\r\nexport default async function confirm(props = {}) {\r\n  const { oruga } = useProgrammatic()\r\n\r\n  const instance = oruga.modal.open({\r\n    component: WyxosPrompt,\r\n    props: Object.assign(\r\n      {\r\n        title: 'Confirm',\r\n        message: 'Are you sure you want proceed?',\r\n        confirmText: 'Yes',\r\n        cancelText: 'Cancel'\r\n      },\r\n      props\r\n    ),\r\n    trapFocus: true\r\n  })\r\n\r\n  const result = await instance.promise\r\n\r\n  return result.action\r\n}\r\n","import moment from 'moment'\r\n\r\nexport const FORMATS = {\r\n  UK_TIME: 'DD/MM/YYYY HH:mm:ss',\r\n  UK: 'DD/MM/YYYY',\r\n  DB_TIME: 'YYYY-MM-DD HH:mm:ss',\r\n  DB: 'YYYY-MM-DD'\r\n}\r\n\r\nclass DateRender {\r\n  FORMATS = FORMATS\r\n\r\n  format(date, format, empty = '') {\r\n    if (!date) {\r\n      return empty\r\n    }\r\n\r\n    return moment(date).format(format)\r\n  }\r\n}\r\n\r\nconst formatter = new DateRender()\r\n\r\nexport default formatter\r\n","import { useProgrammatic } from '@oruga-ui/oruga-next'\r\nimport axios from 'axios'\r\nimport SessionExpired from '../components/WyxosSessionExpired.vue'\r\nimport TokenExpired from '../components/WyxosTokenExpired.vue'\r\n\r\nexport default async function errorHandler(error, options) {\r\n  if (error?.code === 'ERR_CANCELED') {\r\n    return Promise.reject(error)\r\n  }\r\n\r\n  const errors = {\r\n    401: 'Authentication required. Please reload the page and sign in.',\r\n    403: 'You do not have permission to perform this action.',\r\n    404: 'The page or action you are looking for could not be found.',\r\n    419: 'Your session has likely expired. Try again or reload the page.',\r\n    422: 'The action attempted was invalid. Please review your input and try again.',\r\n    500: 'An unexpected error has occurred. This issue has been reported.',\r\n    503: 'The site is currently under maintenance. Please try again later.'\r\n  }\r\n\r\n  Object.assign(errors, options?.messages || {})\r\n\r\n  const message = errors[error.response?.status] || errors[500]\r\n\r\n  const { oruga } = useProgrammatic()\r\n\r\n  oruga.notification.open({\r\n    message,\r\n    duration: 1000 * 5,\r\n    variant: 'danger',\r\n    position: 'bottom-right',\r\n    closable: true\r\n  })\r\n\r\n  if (error.response?.status === 419) {\r\n    oruga.modal.open({\r\n      component: TokenExpired,\r\n      trapFocus: true,\r\n      closable: false\r\n    })\r\n\r\n    const response = await axios.get('/heartbeat')\r\n\r\n    // Update CSRF token in your client application\r\n    const csrfToken = response.data.csrfToken\r\n    // Update the CSRF token in Axios or whatever you use for requests\r\n    axios.defaults.headers.common['X-CSRF-TOKEN'] = csrfToken\r\n  }\r\n\r\n  if (error.response?.status === 401) {\r\n    oruga.modal.open({\r\n      component: options.components?.SessionExpired || SessionExpired,\r\n      trapFocus: true,\r\n      closable: false\r\n    })\r\n  }\r\n\r\n  if (error.response?.status === 422) {\r\n    new Promise((resolve) => setTimeout(resolve, 500)).then(() => {\r\n      const element = document.querySelector('.o-field__label-danger')\r\n\r\n      if (element) {\r\n        element.scrollIntoView({ behavior: 'smooth' })\r\n      }\r\n    })\r\n  }\r\n\r\n  return Promise.reject(error)\r\n}\r\n","export default class FileRequest {\r\n  constructor(form) {\r\n    this.data = new FormData()\r\n\r\n    this.form = form\r\n\r\n    this.copy = Object.assign({}, JSON.parse(JSON.stringify(form)))\r\n  }\r\n\r\n  static build(form, files) {\r\n    return new this(form).files(files).get()\r\n  }\r\n\r\n  static callback(files) {\r\n    return (form) => this.build(form, files).get()\r\n  }\r\n\r\n  files(files) {\r\n    files.forEach((attribute) => {\r\n      if (typeof attribute === 'object') {\r\n        this.data.append(attribute.name, attribute.value)\r\n\r\n        delete this.copy[attribute.name]\r\n      } else if (this.form[attribute]) {\r\n        this.data.append(attribute, this.form[attribute])\r\n\r\n        delete this.copy[attribute]\r\n      }\r\n    })\r\n\r\n    return this\r\n  }\r\n\r\n  add(key, value) {\r\n    this.data.append(key, value)\r\n\r\n    return this\r\n  }\r\n\r\n  get() {\r\n    this.data.append('payload', JSON.stringify(this.copy))\r\n\r\n    return this.data\r\n  }\r\n}\r\n","import { ref } from 'vue'\r\n\r\nexport default class Modal {\r\n  state = ref(false)\r\n\r\n  get isVisible() {\r\n    return this.state\r\n  }\r\n\r\n  static create() {\r\n    return new Modal()\r\n  }\r\n\r\n  show() {\r\n    this.state = true\r\n  }\r\n\r\n  hide() {\r\n    this.state = false\r\n  }\r\n}\r\n","export default class Option {\r\n  static create(value, label = null, tooltip = null) {\r\n    label = label || value\r\n\r\n    return {\r\n      value,\r\n      label\r\n    }\r\n  }\r\n}\r\n","import { reactive } from 'vue'\r\nimport axios from 'axios'\r\n\r\nexport default class ResourceList {\r\n  structure = {}\r\n\r\n  query = reactive({\r\n    items: [],\r\n    perPage: 0,\r\n    total: 0,\r\n    isLoading: false,\r\n    isLoaded: false,\r\n    isFilterActive: false\r\n  })\r\n\r\n  params = reactive({\r\n    page: 1\r\n  })\r\n\r\n  router = null\r\n\r\n  static create(resource, structure = {}, options = {}, router) {\r\n    options = Object.assign(\r\n      { base: '/api/admin', route: `${resource}.index` },\r\n      options\r\n    )\r\n\r\n    const base = options.base\r\n\r\n    const urls = {\r\n      route: options.route,\r\n      index: options.index || `${base}/${resource}/index`,\r\n      destroy: `${base}/${resource}/destroy`\r\n    }\r\n\r\n    const instance = new this()\r\n\r\n    instance.options = options\r\n\r\n    instance.structure = structure\r\n\r\n    instance.params = Object.assign(instance.params, structure)\r\n\r\n    instance.router = router\r\n\r\n    instance.urls = urls\r\n\r\n    return instance\r\n  }\r\n\r\n  async fetch(url) {\r\n    this.query.isLoading = true\r\n\r\n    this.query.isLoaded = false\r\n\r\n    const { data } = await axios\r\n      .get(url || this.urls.index, {\r\n        params: this.params\r\n      })\r\n      .catch((error) => {\r\n        this.query.isLoading = false\r\n\r\n        throw error\r\n      })\r\n\r\n    await this.router.push({ name: this.urls.route, query: this.params })\r\n\r\n    this.query.isLoading = false\r\n\r\n    this.query.isLoaded = true\r\n\r\n    return data\r\n  }\r\n\r\n  async load(url) {\r\n    const data = await this.fetch(url)\r\n\r\n    Object.assign(this.query, data.query, {\r\n      items: data.query.items.map((item) => ({\r\n        ...item,\r\n        isProcessing: false\r\n      }))\r\n    })\r\n\r\n    return data\r\n  }\r\n\r\n  onPageChange(value) {\r\n    this.params.page = value\r\n\r\n    return this.load()\r\n  }\r\n\r\n  async action(path, { row, index, remove, method }, attributes = {}) {\r\n    row.isProcessing = true\r\n\r\n    const payload = {\r\n      id: row.id,\r\n      ...attributes\r\n    }\r\n\r\n    if (method === 'delete') {\r\n      const { data } = await axios\r\n        .delete(path, {\r\n          data: payload\r\n        })\r\n        .catch((error) => {\r\n          row.isProcessing = false\r\n\r\n          throw error\r\n        })\r\n\r\n      row.isProcessing = false\r\n\r\n      if (data.row) {\r\n        Object.assign(row, data.row)\r\n      }\r\n    } else {\r\n      const { data } = await axios.post(path, payload).catch((error) => {\r\n        row.isProcessing = false\r\n\r\n        throw error\r\n      })\r\n\r\n      row.isProcessing = false\r\n\r\n      if (data.row) {\r\n        Object.assign(row, data.row)\r\n      }\r\n    }\r\n\r\n    if (remove) {\r\n      const data = await this.fetch()\r\n\r\n      this.query.items.splice(index, 1)\r\n\r\n      if (!data.query.items.length) {\r\n        this.params.page--\r\n\r\n        await this.load()\r\n\r\n        return\r\n      }\r\n\r\n      if (this.query.items.length < data.query.items.length) {\r\n        this.query.items.push(data.query.items[data.query.items.length - 1])\r\n      }\r\n    }\r\n  }\r\n\r\n  destroy(record, payload) {\r\n    return this.action(this.urls.destroy, { ...record, remove: true }, payload)\r\n  }\r\n\r\n  async resetFilter(url = null) {\r\n    Object.assign(this.params, this.structure)\r\n\r\n    this.query.isFilterActive = false\r\n\r\n    await this.load(url)\r\n  }\r\n}\r\n","import { ref } from 'vue'\r\n\r\nexport default class Steps {\r\n  current = ref(null)\r\n  history = ref([])\r\n  flow = []\r\n\r\n  constructor(current) {\r\n    this.current.value = current\r\n  }\r\n\r\n  is(step) {\r\n    return this.current.value === step\r\n  }\r\n\r\n  isAny(...steps) {\r\n    return Boolean(steps.includes(this.current.value))\r\n  }\r\n\r\n  setFlow(array) {\r\n    this.flow = array\r\n  }\r\n\r\n  next() {\r\n    const index = this.flow.findIndex((item) => item === this.getCurrent())\r\n\r\n    const next = this.flow[index + 1]\r\n\r\n    if (next) {\r\n      this.set(next)\r\n\r\n      return\r\n    }\r\n\r\n    throw Error(`No step defined after ${this.getCurrent()}`)\r\n  }\r\n\r\n  set(step) {\r\n    this.current.value = step\r\n\r\n    this.history.value.push(step)\r\n  }\r\n\r\n  previous() {\r\n    this.history.value.pop()\r\n\r\n    this.current.value = this.history.value[this.history.value.length - 1]\r\n  }\r\n\r\n  getCurrent() {\r\n    return this.current.value\r\n  }\r\n\r\n  assign(steps) {\r\n    Object.assign(this, steps)\r\n  }\r\n}\r\n","import { useProgrammatic } from '@oruga-ui/oruga-next'\r\n\r\nexport default function success(message) {\r\n  const { oruga } = useProgrammatic()\r\n\r\n  oruga.notification.open({\r\n    message: message || 'Action successful.',\r\n    duration: 2500,\r\n    variant: 'success',\r\n    position: 'bottom-right',\r\n    closable: true\r\n  })\r\n}\r\n","import { reactive } from 'vue'\r\n\r\nexport default class Tab {\r\n  attributes = reactive({\r\n    name: null\r\n  })\r\n\r\n  callbacks = {}\r\n\r\n  constructor(active) {\r\n    this.attributes.name = active\r\n  }\r\n\r\n  is(name) {\r\n    return this.attributes.name === name\r\n  }\r\n\r\n  onChange(callbacks) {\r\n    this.callbacks = callbacks\r\n  }\r\n\r\n  activeClass(name, classes) {\r\n    return {\r\n      class: this.is(name) ? classes : []\r\n    }\r\n  }\r\n\r\n  set(name) {\r\n    this.attributes.name = name\r\n\r\n    if (this.callbacks[name]) {\r\n      this.callbacks[name]()\r\n    }\r\n  }\r\n\r\n  assign(attributes) {\r\n    Object.assign(this, attributes)\r\n  }\r\n\r\n  static create(name) {\r\n    return new Tab(name)\r\n  }\r\n}\r\n","import axios from 'axios'\r\nimport errorHandler from './utilities/errorHandler'\r\n\r\nexport default function errorHandlerSetup(options) {\r\n  // In your HTTP client configuration (e.g., Axios)\r\n  axios.interceptors.response.use(null, (error) => {\r\n    // Handle the error with errorHandler\r\n    return errorHandler(error, options)\r\n  })\r\n}\r\n"],"names":["_sfc_main","_createBlock","_component_o_button","$props","_renderSlot","_ctx","_openBlock","_createElementBlock","_hoisted_1","payload","index","_createElementVNode","$options","$data","LoadState","__publicField","reactive","state","error","_hoisted_2","_hoisted_3","_component_o_modal","_toDisplayString","_hoisted_4","_createVNode","_component_wyxos_button","$setup","_normalizeClass","formErrors","useFormErrors","bag","key","target","match","FormBuilder","form","State","name","receiver","path","value","i","obj","options","paths","url","attributes","formatter","axiosConfig","method","request","axios","response","callback","data","updateLoading","updateOriginal","keys","timeout","newVal","moment","_a","_component_o_field","_mergeProps","_component_o_datepicker","$event","defineComponent","_b","token","singleMatcher","multiMatcher","decodeComponents","components","split","left","right","decode","input","tokens","customDecodeURIComponent","replaceMap","result","entries","decodeUriComponent","encodedURI","splitOnFirst","string","separator","separatorIndex","includeKeys","object","predicate","descriptor","isNullOrUndefined","strictUriEncode","x","encodeFragmentIdentifier","encoderForArrayFormat","encode","keyValueSep","parserForArrayFormat","accumulator","isArray","isEncodedArray","newValue","item","arrayValue","validateArrayFormatSeparator","decodeComponent","keysSorter","a","b","removeHash","hashStart","getHash","hash","parseValue","extract","queryStart","parse","query","returnValue","parameter","parameter_","key2","value2","stringify","shouldFilter","objectCopy","parseUrl","url_","stringifyUrl","queryFromUrl","queryString","urlObjectForFragmentEncode","pick","filter","fragmentIdentifier","exclude","exclusionFilter","cancelTokenSource","Listing","params","instance","structure","qs","cancelToken","base","filteredParams","_","v","props","row","config","refresh","currentIds","isStillValid","rowState","fetch","nextTick","_component_o_loading","_cache","event","image","_component_o_input","acc","eventName","_component_o_table","_createSlots","slot","_withCtx","slotData","_normalizeProps","_guardReactiveProps","_hoisted_5","_component_w_button","_Teleport","_component_o_select","_Fragment","_renderList","args","_component_wyxos_input","Search","ref","searchPayloadFormatter","oldVal","reformat","_component_o_inputitems","Auth","auth","confirm","oruga","useProgrammatic","WyxosPrompt","FORMATS","DateRender","date","format","empty","errorHandler","errors","message","TokenExpired","csrfToken","_c","_d","SessionExpired","_e","resolve","element","FileRequest","files","attribute","Modal","Option","label","tooltip","ResourceList","resource","router","urls","remove","record","Steps","current","step","steps","array","next","success","Tab","active","callbacks","classes","errorHandlerSetup"],"mappings":"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","x_google_ignoreList":[8,9,10,11]}